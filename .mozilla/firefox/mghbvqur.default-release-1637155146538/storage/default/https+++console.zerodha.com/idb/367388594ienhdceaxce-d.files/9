(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5cec79e"],{"02bc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"state-process-container",attrs:{main:t.main,sub:t.sub}},[a("div",{staticClass:"state-process"},[a("img",{staticClass:"empty-img",attrs:{src:t.imgSrc}}),t._v(" "),a("h3",{attrs:{id:"mainText"},domProps:{innerHTML:t._s(t.main)}}),t._v(" "),t.sub?a("p",{attrs:{id:"subText"},domProps:{innerHTML:t._s(t.sub)}}):t._e()])])},n=[],i=a("5975"),o={name:"empty",props:{main:{type:String,default:"Report's empty"},sub:{type:String,default:"We couldn't find any results for your query"},imgSrc:{type:String,default:"/static/images/noresults.svg"}},components:{"su-loader":i["a"]}},r=o,l=a("2877"),c=Object(l["a"])(r,s,n,!1,null,null,null);e["a"]=c.exports},"19d1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("hr",{staticClass:"header-hr"}),t._v(" "),a("div",{staticClass:"section"},[t.isLoansInviteFailed?a("div",{staticClass:"text-center"},[a("error",{attrs:{main:t.loansInviteErrorMessage,sub:""}})],1):t._e(),t._v(" "),t.isLoansInviteFailed?t._e():a("div",{staticClass:"text-center"},[a("img",{staticClass:"img-loan-sub",attrs:{src:"/static/images/aadhaar.svg"}}),t._v(" "),a("h2",[t._v("Invitation accepted")]),t._v(" "),a("p",[t._v("We have accepted your request. You will get an email notification once your account is activated.")])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"v-align"},[a("span",{staticClass:"icon icon-credit-card"}),t._v("\n\t\tLoans\n\t\t"),a("img",{staticClass:"img-zerodha-capital hide-on-mobile",attrs:{src:"/static/images/zerodha-capital.svg"}})])}],i=a("bc3a"),o=a.n(i),r=a("3fb9");function l(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}var c=l("public_token"),u=o.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":c,"Content-Type":"application/json"}}),d={name:"loaninvite",components:{error:r["a"]},data:function(){return{isLoansInviteFailed:!1,loansInviteErrorMessage:""}},mounted:function(){this.getLoansInvite()},methods:{getLoansInvite:function(){var t=this;u.get("/api/loans/getinvite").then((function(e){var a=e.data;"SUCCESS"===a.status&&""===a.message?t.$router.push("/loans/get-invite"):"SUCCESS"===a.status&&"ACCEPTED"===a.message&&t.$router.push("/loans/")})).catch((function(e){t.isLoansInviteFailed=!0;var a=e.response.status;401===a?t.loansInviteErrorMessage="You are not authorized to view this page.":-1!==[500,501,502,503,504,505,506,507,508,510,511].indexOf(a)?t.loansInviteErrorMessage="NBFC server is unavailable. Please try after some time.":t.loansInviteErrorMessage=""}))}}},h=d,p=a("2877"),m=Object(p["a"])(h,s,n,!1,null,null,null);e["default"]=m.exports},"1fa4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("su-form",{on:{submit:function(e){return e.preventDefault(),t.migrateToIpvPage.apply(null,arguments)}}},[a("div",{staticClass:"section fatca"},[a("h2",[t._v("FATCA declaration "),a("span",{staticClass:"text-small text-light-grey"},[t._v("(Foreign Account Tax Compliance Act. "),a("a",{attrs:{href:"https://support.zerodha.com/category/console/profile/articles/fatca",target:"_blank"}},[t._v("Learn more")]),t._v(".)"),a("a",{attrs:{href:"https://zerodhacapital.com/tos/faq#fatca",target:"_blank"}},[a("span",{staticClass:"icon icon-help-circle"})])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"City of birth",placeholder:"City of birth"},model:{value:t.birthCity,callback:function(e){t.birthCity=e},expression:"birthCity"}})],1),t._v(" "),a("div",{staticClass:"four columns su-input-group su-static-label"},[t.birthCountry?a("label",{staticClass:"su-input-label"},[t._v("Country of birth")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.birthCountry,expression:"birthCountry"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.birthCountry=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Country of birth")]),t._v(" "),t._l(t.fatcaISOCountryCode,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"four columns"},[a("label",[t._v("Do you have any other country of tax residence?")]),t._v(" "),a("su-radio-group",{model:{value:t.hasOtherCountryTaxResidence,callback:function(e){t.hasOtherCountryTaxResidence=e},expression:"hasOtherCountryTaxResidence"}},[a("su-radio",{attrs:{value:"yes",label:"Yes"}}),t._v(" "),a("su-radio",{attrs:{value:"no",label:"No"}})],1)],1)]),t._v(" "),"yes"===t.hasOtherCountryTaxResidence?a("div",{staticClass:"row input-container"},[a("div",{staticClass:"four columns su-input-group su-static-label"},[t.otherCountryTaxResidence?a("label",{staticClass:"su-input-label"},[t._v("Other country of tax residence")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.otherCountryTaxResidence,expression:"otherCountryTaxResidence"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.otherCountryTaxResidence=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Other country of tax residence")]),t._v(" "),t._l(t.fatcaISOCountryCode,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Tax identification number",placeholder:"Tax identification number"},model:{value:t.taxID,callback:function(e){t.taxID=e},expression:"taxID"}})],1),t._v(" "),a("br")]):t._e(),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"three columns su-input-group su-static-label"},[t.incomeSlab?a("label",{staticClass:"su-input-label"},[t._v("Income slab")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.incomeSlab,expression:"incomeSlab"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.incomeSlab=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Income slab")]),t._v(" "),t._l(t.fatcaIncomeSlab,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"three columns su-input-group su-static-label"},[t.wealthSource?a("label",{staticClass:"su-input-label"},[t._v("Source of wealth")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.wealthSource,expression:"wealthSource"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.wealthSource=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Source of wealth")]),t._v(" "),t._l(t.fatcaSourceWealth,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"number","dynamic-label":"","no-error":"",label:"Net worth (optional)",placeholder:"Net worth (optional)"},model:{value:t.netWorth,callback:function(e){t.netWorth=e},expression:"netWorth"}})],1),t._v(" "),a("div",{staticClass:"three columns su-input-group su-static-label"},[t.netWorthDate?a("label",{staticClass:"su-input-label"},[t._v("Net worth date (optional)")]):t._e(),t._v(" "),a("datepicker",{attrs:{format:t.format,lang:"en","not-before":"1900-01-01","not-after":t.currentDate,placeholder:"Net worth date (optional)"},model:{value:t.netWorthDate,callback:function(e){t.netWorthDate=e},expression:"netWorthDate"}})],1)]),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"four columns"},[a("label",[t._v("Are you a politically exposed person? "),a("a",{attrs:{href:"https://zerodhacapital.com/tos/faq#pep",target:"_blank"}},[a("span",{staticClass:"icon icon-help-circle"})])]),t._v(" "),a("su-radio-group",{model:{value:t.isPoliticallyExposed,callback:function(e){t.isPoliticallyExposed=e},expression:"isPoliticallyExposed"}},[a("su-radio",{attrs:{value:"yes",label:"Yes"}}),t._v(" "),a("su-radio",{attrs:{value:"no",label:"No"}})],1)],1)]),t._v(" "),a("br"),t._v(" "),a("h2",[t._v("Personal details")]),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"three columns su-input-group su-static-label"},[t.mStatus?a("label",{staticClass:"su-input-label"},[t._v("Marital status")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.mStatus,expression:"mStatus"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.mStatus=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Select marital status")]),t._v(" "),t._l(t.maritalStatusChoices,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Mother's first name",placeholder:"Mother's first name"},model:{value:t.mothersFirstName,callback:function(e){t.mothersFirstName=e},expression:"mothersFirstName"}})],1),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Mother's middle name (optional)",placeholder:"Mother's middle name (optional)"},model:{value:t.mothersMiddleName,callback:function(e){t.mothersMiddleName=e},expression:"mothersMiddleName"}})],1),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Mother's last name",placeholder:"Mother's last name"},model:{value:t.mothersLastName,callback:function(e){t.mothersLastName=e},expression:"mothersLastName"}})],1)]),t._v(" "),a("div",{staticClass:"fatca-tac"},[a("p",[a("su-checkbox",{attrs:{label:"I confirm that the information provided above is true, correct and complete to the best of my knowledge. In case any of the above specified information is found to be false or untrue, I am aware that I will be liable for it"},model:{value:t.confirmFatcaInfo,callback:function(e){t.confirmFatcaInfo=e},expression:"confirmFatcaInfo"}})],1),t._v(" "),a("p",[a("su-checkbox",{attrs:{label:"In case of any change in the above given status on a future date, I undertake to inform Zerodha Capital Private Limited within 30 days"},model:{value:t.fatcaStatusChangeOnFuture,callback:function(e){t.fatcaStatusChangeOnFuture=e},expression:"fatcaStatusChangeOnFuture"}}),a("br")],1)]),t._v(" "),a("div",[a("su-button",{class:t.validateFatcaDeclaration?"btn-grey":"btn-blue",attrs:{disabled:t.validateFatcaDeclaration||t.isIpvProcessing,type:"submit",processing:t.isIpvProcessing}},[t._v("Continue")])],1)])])],1)},n=[],i=a("bc3a"),o=a.n(i),r=a("8508"),l=a.n(r),c=a("eeee");function u(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}var d=u("public_token"),h=o.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":d,"Content-Type":"application/json"}}),p={name:"fatca",components:{"su-table":c["a"],datepicker:l.a},data:function(){return{birthCity:"",birthCountry:"IN",hasOtherCountryTaxResidence:"no",isPoliticallyExposed:"no",otherCountryTaxResidence:"",confirmFatcaInfo:!1,fatcaStatusChangeOnFuture:!1,taxID:"",incomeSlab:"",wealthSource:"",netWorth:"",format:"YYYY-MM-DD",netWorthDate:"",currentDate:"",mStatus:"",mothersFirstName:"",mothersMiddleName:"",mothersLastName:"",fatcaSourceWealth:{"01":"Salary","02":"Business Income","03":"Gift","04":"Ancestral Property","05":"Rental Income","06":"Prize Money","07":"Royalty","08":"Others"},fatcaIncomeSlab:{"<1":"Below 1 Lakh","1-5":"1-5 Lacs","5-10":"5-10 Lacs","10-25":"10-25 Lacs","25-1cr":"25 Lacs - 1 crore",">1cr":"Above 1 Crore"},maritalStatusChoices:{M:"Married",S:"Single",W:"Widow/Widower",D:"Divorce",NA:"Not Applicable"},fatcaISOCountryCode:{AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, the Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote d'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curacao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},isIpvProcessing:!1}},mounted:function(){this.pageScrollToTop(),this.currentDate=this.getCurrentDate()},computed:{validateFatcaDeclaration:function(){var t;return t="yes"===this.hasOtherCountryTaxResidence?""===this.birthCity||""===this.birthCountry||""===this.otherCountryTaxResidence||""===this.taxID||""===this.incomeSlab||""===this.wealthSource||""===this.mStatus||""===this.mothersFirstName||""===this.mothersLastName||!this.confirmFatcaInfo||!this.fatcaStatusChangeOnFuture:""===this.birthCity||""===this.birthCountry||""===this.incomeSlab||""===this.wealthSource||""===this.mStatus||""===this.mothersFirstName||""===this.mothersLastName||!this.confirmFatcaInfo||!this.fatcaStatusChangeOnFuture,t}},methods:{pageScrollToTop:function(){window.scrollTo(0,0)},getCurrentDate:function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,s=t.getFullYear();return e<10&&(e="0"+e),a<10&&(a="0"+a),t=s+"-"+a+"-"+e,t},migrateToIpvPage:function(){var t=this,e={other_country_tax_residence:{}};e.birth_city=this.birthCity,e.birth_country=this.birthCountry,e.other_country_tax_residence.country=this.otherCountryTaxResidence,e.other_country_tax_residence.tax_identification_number=this.taxID,e.income_slab=this.incomeSlab,e.source_of_wealth=this.wealthSource,e.net_worth=this.netWorth,e.net_worth_date=this.netWorthDate,e.maritial_status=this.mStatus,e.mothers_first_name=this.mothersFirstName,e.mothers_middle_name=this.mothersMiddleName,e.mothers_last_name=this.mothersLastName,e.politically_exposed=this.isPoliticallyExposed,"no"===this.hasOtherCountryTaxResidence&&(e.other_country_tax_residence=null),this.isIpvProcessing=!0,h.post("/api/loans/fatca",e).then((function(e){var a=e.data;window.location.href=a.data.ipv,t.isIpvProcessing=!1})).catch((function(e){var a="";e.response?a+=e.response.data.message:e.message&&(a+=e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),t.isIpvProcessing=!1,401===e.response.status&&(window.location.href="/")}))}}},m=p,v=a("2877"),g=Object(v["a"])(m,s,n,!1,null,null,null);e["a"]=g.exports},"2f37":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("hr",{staticClass:"header-hr"}),t._v(" "),a("h3",[t._v("Pledge history")]),t._v(" "),a("div",{staticClass:"section"},[t.fetchingPledgeHistory?a("div",{staticClass:"section text-center"},[a("jobber",{attrs:{main:"Fetching your pledge history",sub:"",loader:!0}})],1):t._e(),t._v(" "),!t.noPledgeHistory||t.fetchingPledgeHistory||t.plegeHistoryError?t._e():a("div",{staticClass:"section text-center"},[a("empty",{attrs:{main:"",sub:"Pledge history is empty"}})],1)]),t._v(" "),t.pledge_history_items&&t.pledge_history_items.length>0&&!t.isMobileView?a("div",{staticClass:"loans section"},[a("div",{staticClass:"pledge-statements-container"},[a("su-table",{attrs:{headers:t.pledgeHistoryDetailsHeaders,data:t.pledge_history_items,"row-events":"",pagination:"","per-page":t.perPage,"current-page":t.currentPage,"next-text":">","prev-text":"<"},on:{rowEnter:t.handleRowEnter,rowLeave:t.handleRowLeave},scopedSlots:t._u([{key:"default",fn:function(e){return[a("td",{staticClass:"textleft"},[a("span",[t._v(t._s(e.row.pledge))]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"flag-container"},[t.currentCtxMenuPledgeId===e.row.pledge?a("context-menu",{staticClass:"table"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[a("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),a("template",{slot:"menu"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.showPledgedStocks(e.row)}}},[a("span",{staticClass:"icon icon-menu"}),t._v(" View pledged stocks")])])])],2):t._e()],1)])],1),t._v(" "),a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.execution_time)+"\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textright"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.status)+"\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textright"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.stocks.length)+"\n\t\t\t\t\t\t")])]}}],null,!1,1411292144)})],1)]):t._e(),t._v(" "),a("div",{staticClass:"section"},[t.showPlegeStocks?a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper",on:{click:t.hidePlegeStocksModal}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showPlegeStocksModal.apply(null,arguments)}}},[a("div",{class:{modalbody:!0}},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hidePlegeStocksModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("div",{staticClass:"row v-align"},[a("div",{class:{lessmargin:!0}},[a("h2",[t._v("Stocks")])])]),t._v(" "),a("hr",{staticClass:"modal-separator"}),t._v(" "),a("div",{staticClass:"pledge-statements-container"},[a("su-table",{attrs:{headers:t.pledgeStocksHeaders,data:t.stocksData},scopedSlots:t._u([{key:"default",fn:function(e){return[a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.row.tradingsymbol)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.row.isin)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textright"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.row.quantity)+"\n\t\t\t\t\t\t\t\t\t\t")])]}}],null,!1,2070078154)})],1)])])])]):t._e()]),t._v(" "),t.pledge_history_items&&t.pledge_history_items.length>0&&t.isMobileView?a("div",{staticClass:"section cards"},t._l(t.pledge_history_items,(function(e,s){return a("div",{key:s,staticClass:"card",class:t.pledge_history_items.length-1===s?"last":"",on:{click:function(a){return t.showContextMenu(e)}}},[t.currentCtxMenuPledgeId===e.pledge?a("mobile-context-menu",{on:{close:function(a){return t.hideContextMenu(e)}}},[a("template",{slot:"menu"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.showPledgedStocks(e)}}},[a("span",{staticClass:"icon icon-menu"}),t._v("View pledged stocks")])])])],2):t._e(),t._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"top-left"},[a("span",[t._v(t._s(e.pledge))])]),t._v(" "),a("div",{staticClass:"top-right"},[a("span",[t._v(t._s(e.status))])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"bottom-left"},[a("span",[t._v(t._s(e.execution_time))])]),t._v(" "),a("div",{staticClass:"bottom-right"},[a("span",[t._v(t._s(e.stocks.length))])])])],1)})),0):t._e(),t._v(" "),a("h3",[t._v("Pledged stocks")]),t._v(" "),!t.noPledgeStocks||t.fetchingPledgeHistory||t.plegeHistoryError?t._e():a("div",{staticClass:"section text-center"},[a("empty",{attrs:{main:"",sub:"No stocks are pledged for loan"}})],1),t._v(" "),t.pledged_stocks_data&&t.pledged_stocks_data.length>0?a("div",{staticClass:"section"},[a("div",{staticClass:"pledge-statements-container"},[a("su-table",{attrs:{headers:t.pledgeStocksHeaders,data:t.pledged_stocks_data},scopedSlots:t._u([{key:"default",fn:function(e){return[a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.tradingsymbol)+"\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.isin)+"\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textright"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.quantity)+"\n\t\t\t\t\t\t")])]}}],null,!1,710910154)})],1)]):t._e()])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"v-align"},[a("span",{staticClass:"icon icon-credit-card"}),t._v("\n\t\t\tPledges\n\t\t\t"),a("img",{staticClass:"img-zerodha-capital hide-on-mobile",attrs:{src:"/static/images/zerodha-capital.svg"}})])}],i=a("bc3a"),o=a.n(i),r=a("2e34"),l=a("02bc"),c=a("3fb9"),u=a("5dfe"),d=a("5975"),h=a("eeee"),p=a("6825"),m=a("e2ac"),v=a("2f62");function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}var y=_("public_token"),C=o.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":y,"Content-Type":"application/json"}}),w="/api/loans/pledgehistory",k={components:{jobber:r["a"],empty:l["a"],error:c["a"],"su-button":u["a"],"su-loader":d["a"],"su-table":h["a"],"context-menu":p["a"],"mobile-context-menu":m["a"]},data:function(){return{perPage:20,currentPage:1,jobDone:!1,pledge_history_items:[],pledged_stocks_data:[],noPledgeHistory:!1,noPledgeStocks:!1,fetchingPledgeHistory:!1,plegeHistoryError:!1,plegeHistoryErrorMsg:"Please try again",pledgeHistoryDetailsHeaders:[{class:[],label:"Pledge",field:"pledge"},{class:[],label:"Execution time",field:"execution_time"},{class:[],label:"Status",field:"status"},{class:[],label:"Number of stocks",field:"stocks"}],pledgeStocksHeaders:[{class:[],label:"Symbol",field:"tradingsymbol"},{class:[],label:"ISIN",field:"isin"},{class:[],label:"Quantity",field:"quantity"}],stocksData:[],showPlegeStocks:!1,currentCtxMenuPledgeId:null}},mounted:function(){this.getPlegeHistoryDetails()},computed:f({},Object(v["c"])(["isMobileView"])),methods:{showContextMenu:function(t){this.currentCtxMenuPledgeId=t.pledge},hideContextMenu:function(t){this.currentCtxMenuPledgeId=null},handleRowEnter:function(t){this.showContextMenu(t.row)},handleRowLeave:function(t){this.hideContextMenu()},showPledgedStocks:function(t){this.showPlegeStocks=!0,this.stocksData=t.stocks},hidePlegeStocksModal:function(){this.showPlegeStocks=!1},getPlegeHistoryDetails:function(){var t=this;this.noPledgeHistory=!1,this.noPledgeStocks=!1,this.fetchingPledgeHistory=!0,this.plegeHistoryError=!1,this.jobDone=!1,C.get(w).then((function(e){t.pledge_history_items=[],"SUCCESS"===e.data.status.toUpperCase()?(t.fetchingPledgeHistory=!1,t.jobDone=!0,t.pledge_history_items=e.data.data.pledge_list.map((function(t,e){return t})),t.pledged_stocks_data=e.data.data.stocks.map((function(t,e){return t})),0===e.data.data.pledge_list.length?t.noPledgeHistory=!0:(t.pages=Math.round(e.data.data.pledge_list.length/20)+1,t.noPledgeHistory=!1),0===e.data.data.stocks.length&&(t.noPledgeStocks=!0)):(t.fetchingPledgeHistory=!1,t.plegeHistoryError=!0,t.$toast.error({message:"Error fetching pledge history: "+e.data.message||!1,orientation:t.$toast.TOP_RIGHT,duration:6e3}))})).catch((function(e){t.fetchingPledgeHistory=!1,t.plegeHistoryError=!0;var a="Failed to fetch pledge history";e.response?(a+=": "+e.response.data.message,t.plegeHistoryErrorMsg=e.response.data.message):e.message&&(a+=": "+e.message,t.plegeHistoryErrorMsg=e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))}}},S=k,x=a("2877"),P=Object(x["a"])(S,s,n,!1,null,null,null);e["default"]=P.exports},"408c":function(t,e,a){var s=a("2b3e"),n=function(){return s.Date.now()};t.exports=n},"4cef":function(t,e){var a=/\s/;function s(t){var e=t.length;while(e--&&a.test(t.charAt(e)));return e}t.exports=s},6825:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hide,expression:"hide"},{name:"on-escape",rawName:"v-on-escape",value:t.hide,expression:"hide"}],staticClass:"context-menu",attrs:{id:"context-menu-"+t._uid}},[a("div",{staticClass:"context-menu-button-wrap",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleButtonClick.apply(null,arguments)}}},[t._t("button")],2),t._v(" "),a("transition",{attrs:{name:"dropdown"}},[t.showMenu?a("ul",{staticClass:"context-menu-list list-flat"},[t._t("menu")],2):t._e()])],1)},n=[],i={name:"mobile-context-menu",props:{orientation:{type:String,default:"left"},marginTop:{type:Number,default:8},parentSelector:String},data:function(){return{showMenu:!1}},deactivated:function(){this.hide(),this.$emit("delete")},methods:{hide:function(){this.showMenu&&(this.showMenu=!1)},handleButtonClick:function(t){var e=this;this.showMenu?this.showMenu=!1:(this.showMenu=!0,this.$nextTick((function(){var t=0;if(e.parentSelector){var a=document.querySelector(e.parentSelector);t=a&&a.scrollTop}else t=window.pageYOffset||document.documentElement.scrollTop;var s=e.$el.querySelector(".context-menu-button").getBoundingClientRect(),n=e.$el.querySelector(".context-menu-list"),i=n.getBoundingClientRect(),o=!0;i.height+i.top-t<=window.innerHeight?n.style.top=s.top+s.height+e.marginTop+"px":(n.style.top=s.top-i.height-e.marginTop+"px",o=!1),o?n.classList.add("position-bottom"):n.classList.add("position-top"),"left"===e.orientation?n.style.left=s.left+s.width-i.width+"px":"right"===e.orientation&&(n.style.left=s.left+s.width+"px")})))}}},o=i,r=a("2877"),l=Object(r["a"])(o,s,n,!1,null,null,null);e["a"]=l.exports},"685f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("hr",{staticClass:"header-hr"}),t._v(" "),a("div",{staticClass:"section"},[a("div",{staticClass:"text-center"},[a("img",{staticClass:"img-loan-sub",attrs:{src:"/static/images/aadhaar.svg"}}),t._v(" "),t._m(1),t._v(" "),a("su-button",{staticClass:"btn-blue",nativeOn:{click:function(e){return e.preventDefault(),t.redirectToKiteLogin()}}},[t._v("Update KYC details")])],1)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"v-align"},[a("span",{staticClass:"icon icon-credit-card"}),t._v("\n\t\tLoans\n\t\t"),a("img",{staticClass:"img-zerodha-capital hide-on-mobile",attrs:{src:"/static/images/zerodha-capital.svg"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Your KYC eligibility is failed. Please update your KYC."),a("br"),t._v("\n\t\t\t\tIf you have already initiated a KYC update, please come back later. It takes 2-3 days to get the details updated in CKYC.")])}],i={methods:{redirectToKiteLogin:function(){window.open("https://signup.zerodha.com/kite/login?source=nbfc","_self")}}},o=i,r=a("2877"),l=Object(r["a"])(o,s,n,!1,null,null,null);e["default"]=l.exports},"89be":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"state-process-container",attrs:{main:t.main,sub:t.sub}},[a("div",{staticClass:"state-process"},[a("img",{attrs:{src:"/static/images/init.svg"}}),t._v(" "),a("h3",{attrs:{id:"mainText"}},[t._v(t._s(t.main))]),t._v(" "),a("p",{attrs:{id:"subText"}},[t._v(t._s(t.sub))])])])},n=[],i=a("5975"),o={name:"init",props:{main:{type:String,default:"Build a report"},sub:{type:String,default:"Use the above form to generate a report"}},components:{"su-loader":i["a"]}},r=o,l=a("2877"),c=Object(l["a"])(r,s,n,!1,null,null,null);e["a"]=c.exports},"8d74":function(t,e,a){var s=a("4cef"),n=/^\s+/;function i(t){return t?t.slice(0,s(t)+1).replace(n,""):t}t.exports=i},b047c:function(t,e,a){var s=a("1a8c"),n=a("408c"),i=a("b4b0"),o="Expected a function",r=Math.max,l=Math.min;function c(t,e,a){var c,u,d,h,p,m,v=0,g=!1,f=!1,b=!0;if("function"!=typeof t)throw new TypeError(o);function _(e){var a=c,s=u;return c=u=void 0,v=e,h=t.apply(s,a),h}function y(t){return v=t,p=setTimeout(k,e),g?_(t):h}function C(t){var a=t-m,s=t-v,n=e-a;return f?l(n,d-s):n}function w(t){var a=t-m,s=t-v;return void 0===m||a>=e||a<0||f&&s>=d}function k(){var t=n();if(w(t))return S(t);p=setTimeout(k,C(t))}function S(t){return p=void 0,b&&c?_(t):(c=u=void 0,h)}function x(){void 0!==p&&clearTimeout(p),v=0,c=m=u=p=void 0}function P(){return void 0===p?h:S(n())}function I(){var t=n(),a=w(t);if(c=arguments,u=this,m=t,a){if(void 0===p)return y(m);if(f)return clearTimeout(p),p=setTimeout(k,e),_(m)}return void 0===p&&(p=setTimeout(k,e)),h}return e=i(e)||0,s(a)&&(g=!!a.leading,f="maxWait"in a,d=f?r(i(a.maxWait)||0,e):d,b="trailing"in a?!!a.trailing:b),I.cancel=x,I.flush=P,I}t.exports=c},b4b0:function(t,e,a){var s=a("8d74"),n=a("1a8c"),i=a("ffd6"),o=NaN,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(t){if("number"==typeof t)return t;if(i(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=s(t);var a=l.test(t);return a||c.test(t)?u(t.slice(2),a?2:8):r.test(t)?o:+t}t.exports=d},d1df:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoanInWaitList&&!t.isLoansStatusFailed?a("div",{staticClass:"text-center"},[a("init",{attrs:{main:t.waitListTextMessage,sub:t.waitListSubTextMessage}}),t._v(" "),a("su-button",{staticClass:"btn btn-blue",nativeOn:{click:function(e){return e.preventDefault(),t.redirectToLoanInvite()}}},[t._v("Join waiting list")])],1):t._e(),t._v(" "),t.isLoansStatusFailed&&t.isKycCorrectionShown?a("div",[a("div",{staticClass:"text-center"},[a("p",[t._v("Some of the KYC details you have entered needs correction.")]),t._v(" "),t.isFATCACorrectionShown?a("a",{staticClass:"btn btn-blue",attrs:{href:"http://console.zerodha.com/loans/fatca_correction"}},[t._v("Redo FATCA")]):t._e(),t._v(" "),t.isIPVCorrectionShown?a("a",{staticClass:"btn btn-blue",attrs:{href:t.ipvRedoUrl,target:"_self"}},[t._v("Redo IPV")]):t._e()])]):t._e(),t._v(" "),t.loanClosurePopUp?a("div",{staticClass:"loans-closure"},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper",on:{click:t.hideLoanClosurePopUp}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showLoanClosurePopUp.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideLoanClosurePopUp.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"row modal-body-rowinput-container"},[a("su-input",{attrs:{value:t.loansClosureAmount,"static-label":"","no-error":"",label:""}}),t._v(" "),a("su-button",{staticClass:"btn btn-blue",nativeOn:{click:function(e){return t.confirmPayLoanClosureAmount.apply(null,arguments)}}},[t._v("Confirm")])],1)])])])])]):t._e(),t._v(" "),t.isLoanInWaitList||t.isLoansStatusFailed?t._e():a("div",{staticClass:"loan-info-container",class:null!==t.existingLoan&&Object.keys(t.existingLoan).length>0?"existing-loan":""},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"loan-info-wrapper"},[a("h1",{staticClass:"v-align"},[a("span",{staticClass:"icon icon-credit-card"}),t._v("\n\t\t\t\t\tLoans\n\t\t\t\t\t"),t.showNBFCInitiate?t._e():a("img",{staticClass:"img-zerodha-capital hide-on-mobile",attrs:{src:"/static/images/zerodha-capital.svg"}})]),t._v(" "),a("hr",{staticClass:"header-hr"}),t._v(" "),t.showFatcaContainer?t._e():a("div",[null!==t.existingLoan&&Object.keys(t.existingLoan).length>0&&t.shortfallAmount>0&&!t.repaymentSuccess?a("div",{staticClass:"banner-alert-warning v-align"},[a("img",{attrs:{src:"/static/images/alert-loans.svg"}}),t._v(" "),a("p",[t._v("Your pledged holdings value is depereciated below required amount. You need to pay or pledge holdings worth ₹"+t._s(t._f("inrFormat")(t.shortfallAmount,2))+" by "+t._s(t.shortfallDuedate)+".")])]):t._e(),t._v(" "),null!==t.existingLoan&&Object.keys(t.existingLoan).length>0?a("div",{staticClass:"row loans-card-container",class:t.isMobileView?"":"v-align"},[a("div",{staticClass:"five columns loanamt-card left"},[a("div",{staticClass:"row outstanding-loan-amount"},[a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-light-grey"},[t._v("Outstanding loan amount")]),t._v(" "),a("h2",{staticClass:"text-blue"},[t._v("₹"+t._s(t._f("inrFormat")(t.totalOutstanding,2)))])]),t._v(" "),a("div",{staticClass:"six columns"},[a("div",{staticClass:"interest-rate"},[a("label",{staticClass:"label text-light-grey"},[t._v("Interest rate")]),t._v(" "),a("p",[t._v(t._s(t.existingLoanInterest)+"%")])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"ltv-ratio"},[a("label",{staticClass:"label text-light-grey"},[t._v("Current LTV ratio")]),t._v(" "),a("p",[t._v(t._s(t.currentLTVRatio)+"%")])])])])]),t._v(" "),a("div",{staticClass:"seven columns loanamt-card right"},[a("div",{staticClass:"row payment-title"},[a("div",{staticClass:"six columns"},[t._v("\n\t\t\t\t\t\t\t\t\tPayments\n\t\t\t\t\t\t\t\t")]),t._v(" "),t.isMobileView?t._e():a("div",{staticClass:"six columns"},[a("p",{staticClass:"label text-xsmall text-light-grey"},[t._v("Through net banking or debit card")])])]),t._v(" "),t.shortfallAmount>0?a("div",{staticClass:"payment-card-text row shortfall-payment"},[t.isMobileView?a("p",{staticClass:"label text-xsmall text-light-grey"},[t._v("Through net banking or debit card")]):t._e(),t._v(" "),a("su-button",{staticClass:"btn-blue make-payment-btn",nativeOn:{click:function(e){return t.existingLoanPayment.apply(null,arguments)}}},[t._v("Make payment")])],1):a("div",{staticClass:"payment-card-text row repayment"},[a("div",{staticClass:"four columns"},[a("label",{staticClass:"label text-light-grey"},[t._v("Minimum payment due")]),t._v(" "),a("h2",{staticClass:"text-blue"},[t._v("₹"+t._s(t._f("inrFormat")(t.minimumPaymentAmount,2)))])]),t._v(" "),a("div",{staticClass:"four columns"},[a("label",{staticClass:"label text-light-grey"},[t._v("Due date")]),t._v(" "),t.shortfallDuedate?a("h2",[t._v(t._s(t._f("dateToReadableStr")(t.shortfallDuedate)))]):t._e(),t._v(" "),t.shortfallDuedate?t._e():a("h2",{staticClass:"text-light-grey"},[t._v("N/A")])]),t._v(" "),a("div",{staticClass:"four columns"},[t.isMobileView?a("p",{staticClass:"label text-xsmall text-light-grey"},[t._v("Through net banking or debit card")]):t._e(),t._v(" "),a("su-button",{staticClass:"make-payment-btn",class:[-1!==["Closed","Loan Closure Requested"].indexOf(t.existingLoan.status)?"btn btn-grey":"btn btn-blue",t.isMobileView?"sm":""],attrs:{type:"button",disabled:-1!==["Closed","Loan Closure Requested"].indexOf(t.existingLoan.status)},nativeOn:{click:function(e){return t.existingLoanPayment.apply(null,arguments)}}},[t._v("Make re-payment")]),t._v(" "),a("p",{staticClass:"close-loan-text",class:t.isMobileView?"sm":"",on:{click:t.existingLoanPayment}},[t._v("Close loan")])],1)])])]):t._e()]),t._v(" "),t.showFatcaContainer?a("div",[a("fatca")],1):t._e()])])]),t._v(" "),t.isLoansStatusFailed||t.showFatcaContainer?t._e():a("div",{staticClass:"section"},[t.nbfcInitiating?a("jobber",{attrs:{main:"Hold on",sub:"",loader:!0}}):t._e(),t._v(" "),t.dashboardHoldingsDataFailed?a("div",[a("empty",{attrs:{main:"You do not have any approved stocks in your holdings!",sub:""}})],1):t._e(),t._v(" "),t.dashboardHoldingsDataFetchFailed?a("div",[a("empty",{attrs:{main:"Could not fetch your holdings. Try again later.",sub:""}})],1):t._e(),t._v(" "),!t.loadHoldingsDataJobber||t.dashboardHoldingsDataFailed||t.dashboardHoldingsDataFetchFailed?t._e():a("jobber",{attrs:{main:"Fetching your equity holdings",sub:"",loader:!0}}),t._v(" "),t.showHoldingsData&&!t.showOffers?a("div",[t.existingLoanAmountPopUp?a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper loans-confirm",on:{click:t.hideExistingLoanAmountPopUp}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.existingLoanPayment.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-body-header"},[a("span",{staticClass:"icon icon-credit-card"},[t._v("Make re-payment")]),t._v(" "),a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideExistingLoanAmountPopUp.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})])]),t._v(" "),t.shortfallAmount>0&&null!==t.existingLoan&&Object.keys(t.existingLoan).length>0?a("div",{staticClass:"row modal-body-rowinput-container loan-repayment-row"},[a("span",{staticClass:"pre-rupee"},[t._v("₹")]),t._v(" "),a("su-input",{attrs:{type:"number","static-label":"","no-error":"",label:"Enter amount"},model:{value:t.shortfallAmountEntered,callback:function(e){t.shortfallAmountEntered=e},expression:"shortfallAmountEntered"}}),t._v(" "),a("su-button",{class:t.shortfallAmount>t.shortfallAmountEntered?"btn btn-grey":"btn btn-blue",attrs:{disabled:t.shortfallAmount>t.shortfallAmountEntered||t.processingRazorPayment,processing:t.processingRazorPayment},nativeOn:{click:function(e){return t.confirmPaymentAmount.apply(null,arguments)}}},[t._v("Confirm")])],1):a("div",{staticClass:"row modal-body-rowinput-container"},[a("div",{staticClass:"loan-close-repayment"},[a("su-radio-group",{model:{value:t.loanCloseRepayment,callback:function(e){t.loanCloseRepayment=e},expression:"loanCloseRepayment"}},[a("su-radio",{attrs:{value:"custom",label:"Minimum or custom amount"}}),t._v(" "),a("su-radio",{attrs:{value:"close",label:"Close the loan"}})],1)],1),t._v(" "),"custom"===t.loanCloseRepayment?a("div",{staticClass:"row loan-custom-row"},[a("span",{staticClass:"pre-rupee"},[t._v("₹")]),t._v(" "),a("div",{staticClass:"su-input-group su-static-label"},[a("label",{staticClass:"su-input-label"},[t._v("Enter amount")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.existingLoanAmountInterest,expression:"existingLoanAmountInterest"}],attrs:{type:"number",noerror:"true",staticlabel:"true",label:"Enter amount"},domProps:{value:t.existingLoanAmountInterest},on:{input:function(e){e.target.composing||(t.existingLoanAmountInterest=e.target.value)}}})]),t._v(" "),a("su-button",{class:t.existingLoanAmountInterest<51?"btn btn-grey":"btn btn-blue",attrs:{disabled:t.existingLoanAmountInterest<51||t.processingRazorPayment,processing:t.processingRazorPayment},nativeOn:{click:function(e){return t.confirmPaymentAmount.apply(null,arguments)}}},[t._v("Confirm")])],1):t._e(),t._v(" "),"close"===t.loanCloseRepayment?a("div",{staticClass:"row loan-close-row"},[a("span",{staticClass:"pre-rupee"},[t._v("₹")]),t._v(" "),a("div",{staticClass:"su-input-group su-static-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.loansClosureAmount,expression:"loansClosureAmount"}],attrs:{type:"number",noerror:"true",staticlabel:"true"},domProps:{value:t.loansClosureAmount},on:{input:function(e){e.target.composing||(t.loansClosureAmount=e.target.value)}}})]),t._v(" "),a("su-button",{staticClass:"btn btn-blue",nativeOn:{click:function(e){return t.confirmPayLoanClosureAmount.apply(null,arguments)}}},[t._v("Confirm")])],1):t._e(),t._v(" "),"close"===t.loanCloseRepayment?a("div",[a("p",{staticClass:"text-xsmall text-light-grey repay-loanclose-text"},[t._v("\n\t\t\t\t\t\t\t\t\t\tRepay the following amount to close your loan. We will unpledge all the pledged stocks after due procedure.\n\t\t\t\t\t\t\t\t\t")])]):t._e()])])])])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("su-form",{ref:"holdings",staticClass:"loans-form",on:{submit:function(e){return e.preventDefault(),t.redirectToOffersPage.apply(null,arguments)}}},[a("div",{staticClass:"seven columns"},[a("h1",{staticClass:"new-loan-head"},[t._v("\n\t\t\t\t\t\t\t"+t._s(null!==t.existingLoan&&Object.keys(t.existingLoan).length>0?"Top-up your existing loan":"Apply for a new loan")+"\n\t\t\t\t\t\t\t"),a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSearch,expression:"hideSearch"}],staticClass:"search-table"},[a("span",{staticClass:"icon icon-search"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"filter-input",attrs:{maxlength:"15",type:"text",placeholder:"Search"},domProps:{value:t.searchQuery},on:{input:[function(e){e.target.composing||(t.searchQuery=e.target.value)},t.filteringData],click:function(e){return t.expandSearch()}}}),t._v(" "),a("span",{staticClass:"clear icon icon-times",on:{click:t.clearSearch}})])]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall new-loan-para"},[t._v("Maximum available amount is shown after haircut. "),a("a",{attrs:{href:"https://zerodhacapital.com/tos/faq#max",target:"_blank"}},[t._v("Learn more")])]),t._v(" "),a("div",{staticClass:"table-section"},[t.holdings&&t.holdings.length>0?a("div",{staticClass:"table-container"},[a("loan-table",{attrs:{holdings:t.holdings,searchQuery:t.searchQuery},on:{pledgedHoldings:t.onPledgedHoldings}})],1):t._e(),t._v(" "),t.holdings&&0===t.holdings.length?a("div",[a("empty",{attrs:{main:"No Holdings data found",sub:""}})],1):t._e()]),t._v(" "),t.holdings&&t.holdings.length>0?a("h3",{staticClass:"holdings-total",class:t.holdings.length>9?"px-60":"px-45"},[a("span",[t._v("Total")]),a("span",[t._v("₹"+t._s(t._f("inrFormat")(t.loanValue,2)))])]):t._e(),t._v(" "),a("div",{staticClass:"key-points"},[a("p",{staticClass:"text-light-grey text-xsmall"},[t._v("*Securities shown here are only as per the "),a("a",{attrs:{href:"https://zerodhacapital.com/approved-list",target:"_blank"}},[t._v("Approved List of Securities")]),t._v(" as permitted by Zerodha.")]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall"},[t._v("*The minimum amount of loan that can be availed is Rs. 25,000, after the applicable haircuts.")]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall"},[t._v("*You declare that none of the above holdings are promoter shares, and are free from any lien marking. In case of declaration to be provided with respect to Promoter shares or for any liens that may be marked, please "),a("a",{attrs:{href:"https://support.zerodha.com/category/console/profile/articles/nbfc-support",target:"_blank"}},[t._v("create a ticket here")]),t._v(" to inform our team.")])])]),t._v(" "),a("div",{staticClass:"five columns loans-form-textarea"},[a("div",{staticClass:"row"},[a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Total amount required")]),t._v(" "),a("h2",[t._v("₹"+t._s(t._f("inrFormat")(t.loanValue,2)))])]),t._v(" "),a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Applicable interest rate")]),t._v(" "),a("div",[a("h2",[t._v(t._s(t.interestRate)+"%  ")])])])]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall annum-charge"},[t._v("*Interest rate per annum charged on a monthly basis. Tenure is 1 year (Auto renewable).")]),t._v(" "),a("su-button",{class:t.loanValue>0?"btn btn-blue":"btn btn-grey",attrs:{processing:t.isProcessing,type:"submit",disabled:!(t.loanValue>0)||t.isProcessing}},[t._v("Continue")])],1)])],1)]):t._e(),t._v(" "),t.showOffers?a("div",[a("offers",{on:{offersToLoansDashboard:t.onSwitchToLoansDashboard}})],1):t._e(),t._v(" "),t.loadNBFCInitiateJobber&&!t.eligibilityFailed?a("jobber",{attrs:{main:"KYC details to enter",sub:"",loader:!0}}):t._e(),t._v(" "),t.showNBFCInitiate&&!t.eligibilityFailed?a("div",{staticClass:"kyc-main-container"},[a("div",{staticClass:"body-section"},[a("h2",[t._v("Confirm your KYC")]),a("hr"),t._v(" "),a("div",{staticClass:"row v-align"},[a("div",{staticClass:"seven columns"},[a("div",{staticClass:"row kyc-details input-container"},[a("div",{staticClass:"four columns"},[a("div",{staticClass:"su-input-group su-static-label"},[a("label",{staticClass:"su-input-label"},[t._v("CKYC number")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ckycNumber,expression:"ckycNumber"}],attrs:{type:"text",maxlength:"14",placeholder:"Enter CKYC number",autocorrect:"off",autocapitalize:"none",noerror:"true",staticlabel:"true",animate:"true",label:"CKYC number"},domProps:{value:t.ckycNumber},on:{input:function(e){e.target.composing||(t.ckycNumber=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"three columns su-input-group su-static-label"},[a("label",{staticClass:"su-input-label"},[t._v("D.O.B")]),t._v(" "),a("datepicker",{attrs:{format:t.format,lang:"en","not-before":"1900-01-01","not-after":t.currentDate,placeholder:"Date of birth"},model:{value:t.dateOfBirth,callback:function(e){t.dateOfBirth=e},expression:"dateOfBirth"}})],1)]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"eligible-tac"},[a("p",[a("su-checkbox",{attrs:{label:"I agree to share my CKYC number with Zerodha Capital Private Limited which are as per the records of Zerodha Broking Limited. I confirm that my date of birth mentioned above is correct."},model:{value:t.isCkycDetailsCorrect,callback:function(e){t.isCkycDetailsCorrect=e},expression:"isCkycDetailsCorrect"}})],1),t._v(" "),a("p",[a("su-checkbox",{attrs:{label:"I agree and confirm to allow Zerodha Capital Private Limited to fetch my KYC details, using my CKYC number stated above."},model:{value:t.isAgreedToFetchKycDetails,callback:function(e){t.isAgreedToFetchKycDetails=e},expression:"isAgreedToFetchKycDetails"}})],1),t._v(" "),a("p",[a("su-checkbox",{attrs:{label:"I agree and confirm to share my demat account number along with my holdings information, and my bank account number, with Zerodha Capital Private Limited."},model:{value:t.isAgreedToShareDematAccount,callback:function(e){t.isAgreedToShareDematAccount=e},expression:"isAgreedToShareDematAccount"}})],1),t._v(" "),a("p",[a("su-checkbox",{attrs:{label:"I agree and confirm to read and understand English as a language and confirm to have read and understood the Fair Practice Code of Zerodha Capital Private Limited."},model:{value:t.isAgreedToShareBankAccount,callback:function(e){t.isAgreedToShareBankAccount=e},expression:"isAgreedToShareBankAccount"}})],1)]),t._v(" "),a("div",[a("su-button",{class:t.checkCKYCVerification?"btn-grey":"btn-blue",attrs:{disabled:t.checkCKYCVerification},nativeOn:{click:function(e){return e.preventDefault(),t.onClickKyc.apply(null,arguments)}}},[t._v("\n\t\t\t\t\t\t\t\tContinue\n\t\t\t\t\t\t\t")])],1)]),t._v(" "),t._m(4)])])]):t._e(),t._v(" "),t.loadFetchingKYCDetailsJobber?a("jobber",{attrs:{main:"Fetching your KYC details",sub:"",loader:!0}}):t._e(),t._v(" "),t.showFetchedKYCDetails?a("div",{staticClass:"eligible-main-container"},[t._m(5),t._v(" "),t.nbfcInitiated?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"five columns"},[a("img",{staticClass:"profile-img",attrs:{src:"data:image/"+t.ckycData.photograph.image_type+";base64,"+t.ckycData.photograph.image_data}})]),t._v(" "),a("div",{staticClass:"two columns"},[t._v(" ")]),t._v(" "),a("div",{staticClass:"five columns"},[a("label",{staticClass:"label text-grey"},[t._v("\n\t\t\t\t\t\t\tMobile\n\t\t\t\t\t\t\t"),t.editingKyc||"mobile"===t.editKycSection?t._e():a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"edit-mobile",attrs:{title:"Edit mobile"}},[t._e()]),t._v(" "),t.editingKyc&&"mobile"===t.editKycSection?a("div",{staticClass:"edit-mobile"},[a("su-loader")],1):t._e()]),t._v(" "),a("h3",[t._v(t._s(t.ckycData.mobile))]),t._v(" "),a("label",{staticClass:"label text-grey"},[t._v("E-mail ")]),t._v(" "),a("h3",[t._v(t._s(t.ckycData.email)+" ")]),t._v(" "),a("label",{staticClass:"label text-grey"},[t._v("Gender")]),t._v(" "),a("h3",[t._v(t._s("M"===t.ckycData.gender?"Male":"Female"))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"five columns"},[a("label",{staticClass:"label text-grey"},[t._v("CKYC number ")]),t._v(" "),a("h3",[t._v(t._s(t.ckycData.ckyc_number))])]),t._v(" "),a("div",{staticClass:"two columns"},[t._v(" ")]),t._v(" "),a("div",{staticClass:"five columns"},[a("label",{staticClass:"label text-grey"},[t._v("Date of birth ")]),t._v(" "),a("h3",[t._v(t._s(t.ckycData.dob)+" ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"five columns"},[a("label",{staticClass:"label text-grey"},[t._v("Permanent address ")]),t._v(" "),a("h3",[t._v(t._s(t.ckycData.permanent_address))])]),t._v(" "),a("div",{staticClass:"two columns"},[t._v(" ")]),t._v(" "),a("div",{staticClass:"five columns"},[a("label",{staticClass:"label text-grey"},[t._v("Correspondence address ")]),t._v(" "),a("h3",[t._v(t._s(t.ckycData.correspondence_address)+" ")])])]),t._v(" "),t._m(6)]):t._e(),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"six columns"},[a("h2",[t._v("Bank account")]),a("hr"),a("br"),t._v(" "),t._l(t.ckycData.bank_details,(function(e,s){return a("div",{key:s},[t._v("\n\t\t\t\t\t\t"+t._s(e.account_number)+" — "+t._s(e.name)+"\n\t\t\t\t\t")])}))],2),t._v(" "),a("div",{staticClass:"one columns"},[t._v(" ")]),t._v(" "),a("div",{staticClass:"five columns"},[a("h2",[t._v("Demat account")]),a("hr"),a("br"),t._v("\n\t\t\t\t\t"+t._s(t.ckycData.dp_details.dp_account_no)+" — "+t._s(t.ckycData.dp_details.dp_name)+"\n\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"eligible-tac"},[a("p",[a("su-checkbox",{attrs:{label:"I confirm that all my details mentioned above are correct and up to date"},model:{value:t.isKycDetailsAreCorrect,callback:function(e){t.isKycDetailsAreCorrect=e},expression:"isKycDetailsAreCorrect"}})],1),t._v(" "),a("p",[a("su-checkbox",{attrs:{label:"I allow Zerodha Capital Private Limited to check my credit score with a RBI recognized credit information company"},model:{value:t.isZerodhaCapitalToCheckCreditScore,callback:function(e){t.isZerodhaCapitalToCheckCreditScore=e},expression:"isZerodhaCapitalToCheckCreditScore"}}),a("br")],1)]),t._v(" "),t.nbfcInitiated?a("su-button",{class:t.isKycDetailsAreCorrect&&t.isZerodhaCapitalToCheckCreditScore?"btn-blue":"btn-grey",attrs:{disabled:!(t.isKycDetailsAreCorrect&&t.isZerodhaCapitalToCheckCreditScore)||t.processingFatcaRedirect,processing:t.processingFatcaRedirect},nativeOn:{click:function(e){return e.preventDefault(),t.redirectToFatcaPage.apply(null,arguments)}}},[a("span",[t._v("Continue")])]):t._e()],1):t._e(),t._v(" "),t.eligibilityFailed?a("div",[a("div",{staticClass:"text-center"},[a("img",{staticClass:"img-loan-sub",attrs:{src:"/static/images/aadhaar.svg"}}),t._v(" "),a("p",[t._v(t._s(t.reKycMessage))]),t._v(" "),t.isReKycRequired?a("su-button",{staticClass:"btn-blue",nativeOn:{click:function(e){return e.preventDefault(),t.redirectToKiteLogin()}}},[t._v("Update KYC details")]):t._e()],1)]):t._e(),t._v(" "),t.processingFeePaid?a("div",[t._m(7)]):t._e(),t._v(" "),t.processingDocuments?a("div",[a("div",{staticClass:"row processing-documents"},[t._m(8),t._v(" "),a("div",{staticClass:"six columns processing-documents-textarea"},[a("div",{staticClass:"row"},[a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Loan amount offered")]),t._v(" "),a("h2",[t._v("₹"+t._s(t.loanInfoPledgingAmount))])]),t._v(" "),a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Applicable interest rate")]),t._v(" "),a("div",[a("h2",[t._v(t._s(t.loanInfoInterestRate)+"%  ")])])])]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall annum-charge"},[t._v("*Interest rate per annum charged on a monthly basis. Tenure is 1 year (Auto renewable).")]),t._v(" "),a("hr"),t._v(" "),a("div",[a("label",{staticClass:"label text-grey"},[t._v("Purpose of the loan")]),t._v(" "),a("h3",[t._v(t._s(t.loanInfoPurpose))])]),t._v(" "),a("div",[a("label",{staticClass:"label text-grey"},[t._v("Bank account")]),t._v(" "),a("h3",[t._v(t._s(t.loanInfoBankDetail))])])])])]):t._e(),t._v(" "),t.loanRequestInitiated?a("div",[a("div",{staticClass:"row loan-request-initiated"},[t._m(9),t._v(" "),a("div",{staticClass:"six columns loan-request-initiated-textarea"},[a("div",{staticClass:"row"},[a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Loan amount offered")]),t._v(" "),a("h2",[t._v("₹"+t._s(t.loanInfoPledgingAmount))])]),t._v(" "),a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Applicable interest rate")]),t._v(" "),a("div",[a("h2",[t._v(t._s(t.loanInfoInterestRate)+"%  ")])])])]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall annum-charge"},[t._v("*Interest rate per annum charged on a monthly basis. Tenure is 1 year (Auto renewable).")]),t._v(" "),a("hr"),t._v(" "),a("div",[a("label",{staticClass:"label text-grey"},[t._v("Purpose of the loan")]),t._v(" "),a("h3",[t._v(t._s(t.loanInfoPurpose))])]),t._v(" "),a("div",[a("label",{staticClass:"label text-grey"},[t._v("Bank account")]),t._v(" "),a("h3",[t._v(t._s(t.loanInfoBankDetail))])])])])]):t._e(),t._v(" "),t.stampDutyPaid?a("div",[t.fetchingLoanDocuments?a("jobber",{attrs:{main:"Fetching your loan documents",sub:"",loader:!0}}):t._e(),t._v(" "),t.fetchingLoanDocuments?t._e():a("div",{staticClass:"row stamp-duty-paid"},[a("div",{staticClass:"six columns"},[t.documentsList.length>0?a("div",{staticClass:"steps-container"},[a("div",{staticClass:"step",class:{active:1===t.step,done:t.step>1}},[t.step>1?a("span",{staticClass:"icon icon-check"}):a("span",[t._v("1")])]),t._v(" "),a("h2",{staticClass:"text-grey"},[t._v("e-Sign "+t._s(1===t.step?t.documentsList[0].name:""))]),t._v(" "),1===t.step?a("div",{staticClass:"step-vertical",class:{active:1===t.step,done:t.step>1}},[a("p",[t._v(t._s(t.documentDescriptions[t.documentsList[0].file_type]))]),t._v(" "),a("su-button",{staticClass:"btn-blue",attrs:{processing:t.digioBtnProcessing,disabled:t.digioBtnProcessing},nativeOn:{click:function(e){return e.preventDefault(),t.uploadToDigio(t.documentsList[0])}}},[t._v("Continue")])],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"steps-container"},[a("div",{staticClass:"step",class:{active:2===t.step,done:t.step>2}},[t.step>2?a("span",{staticClass:"icon icon-check"}):a("span",[t._v("2")])]),t._v(" "),a("h2",{staticClass:"text-grey"},[t._v("e-Pledge")]),t._v(" "),2===t.step?a("div",{staticClass:"step-vertical",class:{active:2===t.step,done:t.step>2}},[a("p",[t._v("Pledge the selected holdings to Zerodha Capital Pvt. Ltd. via CDSL e-Pledge facility.")]),t._v(" "),a("div",{staticClass:"invoke-table-container"},[a("su-table",{attrs:{headers:t.invokePledgeDetailsHeaders,data:t.invokePledgeDetails},scopedSlots:t._u([{key:"default",fn:function(e){return[a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.row.tradingsymbol)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.row.isin)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.row.quantity)+"\n\t\t\t\t\t\t\t\t\t\t")])]}}],null,!1,238643729)}),t._v(" "),t.btnContinueInvokePledge?a("su-button",{staticClass:"btn-blue",nativeOn:{click:function(e){return e.preventDefault(),t.continueInvokePledge.apply(null,arguments)}}},[t._v("Initiate e-Pledge")]):t._e(),t._v(" "),t.btnConfirmInvokePledge?a("su-button",{staticClass:"btn-blue",attrs:{processing:t.invokePledgeProcessing,disabled:t.invokePledgeProcessing},nativeOn:{click:function(e){return e.preventDefault(),t.confirmInvokePledge.apply(null,arguments)}}},[t._v("Confirm e-Pledge")]):t._e()],1)]):t._e()])]),t._v(" "),a("div",{staticClass:"six columns stamp-duty-paid-textarea"},[a("div",{staticClass:"row"},[a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Loan amount offered")]),t._v(" "),a("h2",[t._v("₹"+t._s(t.loanInfoPledgingAmount))])]),t._v(" "),a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Applicable interest rate")]),t._v(" "),a("div",[a("h2",[t._v(t._s(t.loanInfoInterestRate)+"%  ")])])])]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall annum-charge"},[t._v("*Interest rate per annum is charged on a monthly basis. Tenure is 1 year (Automatic renewable).")]),t._v(" "),a("hr"),t._v(" "),a("div",[a("label",{staticClass:"label text-grey"},[t._v("Purpose of the loan")]),t._v(" "),a("h3",[t._v(t._s(t.loanInfoPurpose))])]),t._v(" "),a("div",[a("label",{staticClass:"label text-grey"},[t._v("Bank account")]),t._v(" "),a("h3",[t._v(t._s(t.loanInfoBankDetail))])])])])],1):t._e()],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[a("span",{staticClass:"icon icon-credit-card"}),t._v("\n\t\t\t\t\t\t\tClose loan\n\t\t\t\t\t\t")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notice text-box yellow"},[a("ul",[a("li",[a("span",[t._v("\n\t\t\t\t\t\t\t\t\t\tRepay the following amount to close your loan. We will unpledge all the pledged stocks after due procedure.\n\t\t\t\t\t\t\t\t\t")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tenure"},[a("label",{staticClass:"label text-light-grey"},[t._v("Tenure")]),t._v(" "),a("p",[t._v("1 Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"text-small",attrs:{href:"https://zerodhacapital.com/tos/faq#ckyc",target:"_blank"}},[a("span",{staticClass:"icon icon-help-circle"}),a("span",[t._v("Learn more")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"five columns img-kyc-confirm hide-on-mobile"},[a("img",{attrs:{src:"/static/images/kyc-confirm.svg"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Confirm your KYC")]),t._v(" "),a("hr"),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"five columns"},[a("a",{attrs:{href:"https://signup.zerodha.com/kite/login?source=nbfc",target:"_blank"}},[t._v("Have your KYC details changed?")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("img",{staticClass:"img-loan-sub",attrs:{src:"/static/images/loan-req.svg"}}),t._v(" "),a("p",[t._v("Processing fee successfully paid! "),a("br"),t._v("Your documents are being prepared. We let you know once they are ready.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"six columns processing-documents-imgarea text-center"},[a("img",{staticClass:"img-loan-sub",attrs:{src:"/static/images/loan-req.svg"}}),t._v(" "),a("h2",[t._v("Preparing your documents")]),t._v(" "),a("p",[t._v("Your loan documents are currently being prepared for you to e-Sign. We will notify you within 2-3 working days on your registered email ID and mobile number.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"six columns loan-request-initiated-imgarea text-center"},[a("img",{staticClass:"img-loan-sub",attrs:{src:"/static/images/loan-req.svg"}}),t._v(" "),a("h2",[t._v("Loan request initiated")]),t._v(" "),a("p",[t._v("It takes 2-3 working days for the loan amount to be disbursed to your bank account. We will notify you when the process is complete.")])])}],i=a("bc3a"),o=a.n(i),r=a("2f62"),l=a("8508"),c=a.n(l),u=a("1fa4"),d=a("ee54"),h=a("2e34"),p=a("eeee"),m=a("5dfe"),v=a("a210"),g=a("0138"),f=a("02bc"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("su-table",{attrs:{headers:t.dataHoldingsHeader,data:t.filteredDataHoldings,"header-checkbox":"","header-checkbox-checked":t.headerCheckboxChecked,"toolbar-header":"",sort:"",tableBorder:"",searchFilterOnly:!1},on:{headerCheckboxSelect:t.onHeaderCheckboxSelect},scopedSlots:t._u([{key:"default",fn:function(e){return[a("td",{staticClass:"textleft table-border"},[t._v("\n\t\t\t\t"+t._s(e.row.tradingsymbol)+" "),a("p",{staticClass:"text-light-grey text-xsmall"},[t._v(t._s(e.row.isin))])]),t._v(" "),a("td",[t._v("\n\t\t\t\t"+t._s(e.row.loan_available_formatted)+"\n\t\t\t")]),t._v(" "),a("td",[a("div",{staticClass:"su-input-group"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.row.pledge_qty,expression:"props.row.pledge_qty",modifiers:{number:!0}}],attrs:{disabled:!t.selectedHoldings[e.row.isin],type:"number",min:1,max:e.row.quantity},domProps:{value:e.row.pledge_qty},on:{input:[function(a){a.target.composing||t.$set(e.row,"pledge_qty",t._n(a.target.value))},function(a){return t.onQtyChange(e.row.isin,e.row.pledge_qty,e.index)}],blur:function(e){return t.$forceUpdate()}}}),t._v(" / "),a("span",{staticClass:"text-blue"},[t._v(t._s(e.row.quantity)+" ")])])]),t._v(" "),a("td",[a("div",[a("div",{staticClass:"su-input-group"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.row.loan_value,expression:"props.row.loan_value",modifiers:{number:!0}}],attrs:{disabled:!t.selectedHoldings[e.row.isin],type:"number",min:Math.round(e.row.amount/e.row.quantity),max:e.row.amount},domProps:{value:e.row.loan_value},on:{input:[function(a){a.target.composing||t.$set(e.row,"loan_value",t._n(a.target.value))},function(a){return t.onValueChange(e.row.isin,e.row.loan_value,e.index)}],blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),a("su-checkbox",{attrs:{title:"Check to pledge stock",id:e.row.isin},on:{change:function(a){return t.onHoldingSelect(e.index)}},model:{value:t.selectedHoldings[e.row.isin],callback:function(a){t.$set(t.selectedHoldings,e.row.isin,a)},expression:"selectedHoldings[props.row.isin]"}})],1)])]}}])})],1)},_=[],y=a("19b7");function C(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=w(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw i}}}}function w(t,e){if(t){if("string"===typeof t)return k(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){P(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function P(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var I=y["b"],T={components:{"su-input":v["a"],"su-table":p["a"]},props:{holdings:Array,columns:Array,filterKey:String,searchQuery:String},data:function(){return{headerCheckboxChecked:!0,selectedHoldings:{},dataHoldings:[],dataHoldingsHeader:[{class:[],label:"Symbol",field:"tradingsymbol",sort:!0,tableBorder:!0,sortArrow:!0,arrowShowDefault:!0,search:!0},{class:[],label:"Max available (₹)",field:"amount",sort:!0,arrowShowDefault:!1,sortArrow:!0},{class:[],label:"Quantity",field:"quantity"},{class:[],label:"Amount required (₹)",field:"loan_value",showHeaderCheckbox:!0}]}},mounted:function(){var t=this;this.dataHoldings=this.$clone(this.holdings);var e=this.stocksPledged;this.dataHoldings.map((function(a,s){e&&e.length>0?e.map((function(t){return t.isin})).indexOf(a.isin)>-1?(a.pledge_qty=e[e.map((function(t){return t.isin})).indexOf(a.isin)].quantity,a.loan_value=e[e.map((function(t){return t.isin})).indexOf(a.isin)].loan_value,t.$set(t.selectedHoldings,a.isin,!0)):(a.pledge_qty=a.quantity,a.loan_value=a.amount,t.$set(t.selectedHoldings,a.isin,!1)):(a.loan_value=a.amount,a.pledge_qty=a.quantity,t.$set(t.selectedHoldings,a.isin,!0)),a.loan_available_formatted=t.$options.filters.inrFormat(a.amount,0,null,!1)})),this.onHoldingsDataChange()},computed:x(x({},Object(r["c"])(I,["stocksPledged"])),{},{filteredDataHoldings:function(){var t=this;return this.dataHoldings.filter((function(e){return e.tradingsymbol.toLowerCase().includes(t.searchQuery.toLowerCase())}))}}),watch:{holdings:function(t){var e=[];""!==this.searchQuery?(this.dataHoldingsOnFetch.map((function(a,s){t.map((function(t){return t.isin})).indexOf(a.isin)>-1&&e.push(a)})),this.dataHoldings=e):this.dataHoldings=this.dataHoldingsOnFetch},selectedHoldings:{deep:!0,immediate:!0,handler:function(t){for(var e in t){if(!t[e])return void(this.headerCheckboxChecked=!1);this.headerCheckboxChecked=!0}}}},methods:{onHeaderCheckboxSelect:function(t){for(var e in this.selectedHoldings)this.$set(this.selectedHoldings,e,t)},onHoldingsDataChange:function(){var t,e={},a=[],s=C(this.dataHoldings);try{for(s.s();!(t=s.n()).done;){var n=t.value;this.selectedHoldings[n.isin]&&a.push(n)}}catch(i){s.e(i)}finally{s.f()}e.holdings=a,e.holdingsSelect=!0,this.$emit("pledgedHoldings",e)},onHoldingSelect:function(t){this.onHoldingsDataChange()},onValueChange:function(t,e,a){var s=this.dataHoldings[a];s.amount<e||!e||(s.loan_value=e,s.pledge_qty=Math.floor(s.loan_value/Number(parseFloat(s.amount/s.quantity).toFixed(2))),this.onHoldingsDataChange(),this.$set(this.dataHoldings,a,s))},onQtyChange:function(t,e,a){var s=this.dataHoldings[a];s.quantity<e||!e||(s.pledge_qty=e,s.loan_value=s.quantity===e?s.amount:Math.round(s.amount/s.quantity)*s.pledge_qty,this.onHoldingsDataChange(),this.$set(this.dataHoldings,a,s))}}},D=T,A=a("2877"),O=Object(A["a"])(D,b,_,!1,null,null,null),L=O.exports,R=a("3fb9"),M=a("89be");function E(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=F(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw i}}}}function F(t,e){if(t){if("string"===typeof t)return N(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?N(t,e):void 0}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function B(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?H(Object(a),!0).forEach((function(e){$(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function $(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function G(t){return G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function K(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}var j=y["b"],U=K("public_token"),V=o.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":U,"Content-Type":"application/json"}}),Y=o.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":U,"Content-Type":"application/json"}}),q=o.a.create({timeout:15e3,responseType:"json",headers:{"X-CSRFToken":U,"Content-Type":"application/json"}});function z(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a="",s=t;return"object"===G(s)?(s=s.toString(),a+=s.split(" ")[3]+"-",e.indexOf(s.split(" ")[1])+1<10?a+="0"+(e.indexOf(s.split(" ")[1])+1):a+=e.indexOf(s.split(" ")[1])+1,a+="-"+s.split(" ")[2]):"string"===typeof s&&(a=s),a}var W={components:{"su-button":m["a"],"su-input":v["a"],"su-select":g["a"],"loan-table":L,offers:d["a"],jobber:h["a"],empty:f["a"],"su-table":p["a"],error:R["a"],init:M["a"],fatca:u["a"],datepicker:c.a},data:function(){return{step:1,ckycNumber:"",format:"YYYY-MM-DD",dateOfBirth:"",pledgedDetails:{selected:1,tenureOptions:[{text:"1 Year",value:1}]},loanCloseRepayment:"custom",searchQuery:"",filterBy:"",sortKey:"tradingsymbol",sortBy:"asc",columns:["","loan_available","enter_loan_value","pledge_qty","pledge_value"],ckycData:{},holdings:[],editingKyc:!1,editKycSection:"",totalPledgeValue:0,pledgedHoldings:{},showLoansDashboard:!1,showOffers:!1,isCkycDataAvailable:!1,isKycDetailsAreCorrect:!1,isZerodhaCapitalToCheckCreditScore:!1,isCkycDetailsCorrect:!1,isAgreedToFetchKycDetails:!1,isAgreedToShareDematAccount:!1,isAgreedToShareBankAccount:!1,imageBytes:"",interestRate:0,loanInfoInterestRate:0,loanInfoPledgingAmount:0,loanInfoPurpose:"",loanInfoBankDetail:"",existingLoan:null,repaymentSuccess:!1,totalRepaymentAmount:0,minimumPaymentAmount:0,currentLTVRatio:0,existingLoanAmountInterest:50,existingLoanInterest:0,loanApplicantEmailId:"",loanApplicantName:"",loanApplicantMobile:"",totalOutstanding:0,shortfallAmount:0,shortfallAmountEntered:0,shortfallDuedate:"",nbfcInitiating:!0,nbfcInitiated:!1,isLoansStatusFailed:!1,isKycCorrectionShown:!1,isFATCACorrectionShown:!1,isIPVCorrectionShown:!1,ipvRedoUrl:"",eligibilityFailed:!1,preparingEligibility:!1,dashboardHoldingsDataLoaded:!1,dashboardHoldingsDataFailed:!1,dashboardHoldingsDataFetchFailed:!1,processingFeePaid:!1,processingDocuments:!1,loanRequestInitiated:!1,stampDutyPaid:!1,fetchingLoanDocuments:!1,documentsList:[],currentDate:"",processingFatcaRedirect:!1,showFatcaContainer:!1,eligibilityEmptyStatus:{message:"",data:{dp_details:{},stocks:[],kyc_data:{},bank_details:[]},status:""},bankDetailsHeader:[{class:[],label:"",field:""},{class:[],label:"Account No",field:"account_no"},{class:[],label:"Bank",field:"bank"}],errors:"",digioBtnProcessing:!1,processingRazorPayment:!1,isProcessing:!1,documentDescriptions:{Termsheet:"A term sheet is an express acknowledgement given by the borrower to the lender with respect to understanding all the lender's terms, policies, conditions with respect to each loan and disbursement availed, along with the details of the securities so moved by the borrower towards the lender to secure each loan or disbursement.","MLA+Termsheet":"The Master Loan Agreement is a written contract between a Borrower & Lender stating in detail all terms, conditions, and stipulations regarding the sanctioned loan, and such future part loans or disbursements falling under the same sanctioned loan."},invokePledgeProcessing:!1,invokePledgeDetails:[],btnContinueInvokePledge:!1,btnConfirmInvokePledge:!1,invokePledgeDetailsHeaders:[{class:[],label:"Symbol",field:"tradingsymbol"},{class:[],label:"ISIN",field:"isin"},{class:[],label:"Quantity",field:"quantity"}],isReKycRequired:!1,isReKycProcessing:!1,reKycMessage:"",loansStatusErrorMessage:"",loansClosureAmount:0,isLoanInWaitList:!1,waitListTextMessage:"",waitListSubTextMessage:"",loanClosureRepaymentOrderId:"",loanRepaymentOrderId:""}},beforeCreate:function(){var t=document.createElement("script"),e=document.createElement("script");t.setAttribute("src","https://checkout.razorpay.com/v1/checkout.js"),document.head.appendChild(t);for(var a=document.getElementsByTagName("script"),s=!1,n=0;n<a.length;n++)"https://otp.zerodha.net/static/otp.js"===a[n].getAttribute("src")&&(s=!0);s||(e.setAttribute("src","https://otp.zerodha.net/static/otp.js?v=1.2.1"),e.setAttribute("id","otpgateway-script"),document.head.appendChild(e))},created:function(){document.addEventListener("beforeunload",(function(t){this.stocksPledged=[],this.loanTotalValue=0}))},mounted:function(){var t=this,e=this;if(window.addEventListener("keyup",(function(t){27===t.keyCode&&e.hideSearch()})),this.currentDate=this.getCurrentDate(),void 0!==this.$route.query.auth_hash&&void 0!==this.$route.query.client_id){var a={};a.auth_hash=this.$route.query.auth_hash,a.client_id=this.$route.query.client_id,Y.post("/api/loans/ipv",a).then((function(e){t.onIPVFetchSuccess(e)})).catch((function(e){t.onIPVFetchFailed(e),401===e.response.status&&(window.location.href="/")}))}else this.getLoansStatus()},computed:B(B({},Object(r["c"])(j,["stocksPledged","loanTotalValue","collateralList","existingLoanAmountPopUp","loanClosurePopUp"])),{},{isMobileView:function(){return this.$store.getters.isMobileView},loanValue:function(){var t,e=0;if(this.pledgedHoldings.holdingsSelect){var a,s=E(this.pledgedHoldings.holdings);try{for(s.s();!(a=s.n()).done;){var n=a.value;e+=n.loan_value}}catch(i){s.e(i)}finally{s.f()}t=e}else t=this.totalPledgeValue;return t},checkCKYCVerification:function(){return!this.dateOfBirth||""===this.ckycNumber||!this.isCkycDetailsCorrect||!this.isAgreedToFetchKycDetails||!this.isAgreedToShareDematAccount||!this.isAgreedToShareBankAccount},loadNBFCInitiateJobber:function(){return!this.nbfcInitiating&&!this.nbfcInitiated&&!this.isCkycDataAvailable&&!this.preparingEligibility&&!this.showLoansDashboard&&!this.processingDocuments&&!this.loanRequestInitiated&&!this.stampDutyPaid&&!this.processingFeePaid&&!this.eligibilityFailed&&!this.isLoanInWaitList},showNBFCInitiate:function(){return this.nbfcInitiated&&!this.isCkycDataAvailable&&!this.preparingEligibility&&!this.showLoansDashboard&&!this.processingDocuments&&!this.loanRequestInitiated},loadFetchingKYCDetailsJobber:function(){return this.nbfcInitiated&&!this.isCkycDataAvailable&&this.preparingEligibility&&!this.processingDocuments&&!this.loanRequestInitiated&&!this.eligibilityFailed},showFetchedKYCDetails:function(){return this.nbfcInitiated&&!this.processingDocuments&&!this.loanRequestInitiated&&!this.showLoansDashboard&&this.isCkycDataAvailable&&!this.preparingEligibility&&!this.eligibilityFailed},loadHoldingsDataJobber:function(){return this.showLoansDashboard&&!this.dashboardHoldingsDataLoaded&&!this.eligibilityFailed},showHoldingsData:function(){return this.showLoansDashboard&&this.dashboardHoldingsDataLoaded},repaymentTextColor:function(){return-1!==["Closed","Loan Closure Requested"].indexOf(this.existingLoan.status)?"#9b9b9b":""}}),methods:B(B({},Object(r["b"])(j,["postStocksPledgeData","getPledgedHoldingsData","postStocksTotalAmount","makeRepayment","makeLoanClosurePayment","activatePopUp","activateLoanClosurePopup"])),{},{closeLoan:function(){var t=this;V.get("/api/loans/closure").then((function(e){var a=e.data;"SUCCESS"===a.status.toUpperCase()&&(t.loansClosureAmount=a.data&&a.data.payable_amount)}))},hideLoanClosurePopUp:function(){this.activateLoanClosurePopup(!1)},showLoanClosurePopUp:function(){this.activateLoanClosurePopup(!0)},redirectToLoanInvite:function(){this.$router.push("/loans/get-invite")},getLoansStatus:function(){var t=this;V.get("/api/loans/status").then((function(e){var a=e.data;t.nbfcInitiating=!1,"ELIGIBILITY_SUCCESS"===a.message?(t.showLoansDashboard=!0,t.isCkycDataAvailable=!0):"WAITLIST_REQUIRED"===a.message&&(t.isLoanInWaitList=!0,t.waitListTextMessage="Get early access to Loan Against Securities",t.waitListSubTextMessage="Thank you for your interest in the Loan Against Securities (LAS) beta programme. Please join the waitlist for early access. You'll receive an email from us once your LAS account is approved."),t.getLoansOverview(a)})).catch((function(e){t.isLoansStatusFailed=!0;var a=e.response.status;420===a?(V.get("/api/loans/kyc_correction").then((function(e){var a=e.data;if("SUCCESS"===a.status){var s=a.data&&a.data.correction_required;t.isFATCACorrectionShown=-1!==s.indexOf("fatca"),t.isIPVCorrectionShown=-1!==s.indexOf("ipv"),t.isIPVCorrectionShown&&(t.ipvRedoUrl=a.data&&a.data.ipv||"")}})),t.isKycCorrectionShown=!0):-1!==[500,501,502,503,504,505,506,507,508,510,511].indexOf(a)?t.loansStatusErrorMessage="NBFC server is unavailable. Please try after some time.":t.loansStatusErrorMessage=""}))},onIPVFetchSuccess:function(t){200===t.status?(this.$router.push("/loans/"),this.getLoansStatus()):this.$toast.error({message:"Error fetching IPV status: "+t.data.message||!1,orientation:this.$toast.TOP_RIGHT,duration:6e3})},onIPVFetchFailed:function(t){var e="Failed to fetch IPV status";t.response?e+=": "+t.response.data.message:t.message&&(e+=": "+t.message),this.$toast.error({message:e,orientation:this.$toast.TOP_RIGHT,duration:6e3})},onSwitchToLoansDashboard:function(t){Object.keys(t).length>0?this.getLoansOverview(t):(this.showHoldingsData=!0,this.showOffers=!1)},continueInvokePledge:function(){var t=this;Y.post("/api/loans/otpcreate",{reason:"pledge",provider:"mobile"}).then((function(e){var a=t;"SUCCESS"===e.data.status.toUpperCase()&&e.data.data&&e.data.data.id&&e.data.data.namespace&&OTPGateway(e.data.data.namespace,e.data.data.id,(function(t,e){a.verifyOtpProcessInvokePledge()}),(function(){this.btnContinueInvokePledge=!1,this.btnConfirmInvokePledge=!0}))}))},confirmInvokePledge:function(){var t=this;this.invokePledgeProcessing=!0,o.a.create({timeout:3e4,responseType:"json",headers:{"X-CSRFToken":U,"Content-Type":"application/json"}}).post("/api/loans/epledge",{}).then((function(e){t.invokePledgeProcessing=!1;var a=e.data;"SUCCESS"===a.status.toUpperCase()&&(t.step+=1,t.getLoansOverview(a))})).catch((function(e){t.invokePledgeProcessing=!1;var a="Failed to initiate e-Pledge";e.response?a+=": "+e.response.data.message:e.message&&(a+=": "+e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},invokePledge:function(){var t=this;V.get("/api/loans/initiatepledge").then((function(e){var a=e.data;if("SUCCESS"===a.status){var s=a.data;t.invokePledgeDetails=s&&s.stocks,t.btnContinueInvokePledge=!0}})).catch((function(e){var a="Failed to fetch pledge details";e.response?a+=": "+e.response.data.message:e.message&&(a+=": "+e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},existingLoanPayment:function(){this.activatePopUp(!0),this.closeLoan()},editMobileModal:function(t){this.editKycSection=t,this.showEditKycModal()},hideEditKycModal:function(){this.editingKyc=!1},verifyOtp:function(){var t=this;Y.post("/api/loans/otpverify",{provider:"mobile"}).then((function(e){t.editingKyc=!1,t.editKycSection="","SUCCESS"===e.data.status.toUpperCase()?(t.$toast.success({message:"Your mobile number is updated to "+e.data.data.to,orientation:t.$toast.TOP_RIGHT,duration:6e3}),t.ckycData.mobile=e.data.data.to):t.$toast.error({message:"Error editing profile data: "+e.data.message||!1,orientation:t.$toast.TOP_RIGHT,duration:6e3})})).catch((function(e){t.editingKyc=!1,t.editKycSection="";var a="Failed to edit data";e.response?(a+=": "+e.response.data.message,t.errorMessage=e.response.data.message):e.message&&(a+=": "+e.message,t.errorMessage=e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},verifyOtpProcessInvokePledge:function(){var t=this;Y.post("/api/loans/otpverify",{reason:"pledge"}).then((function(e){"SUCCESS"===e.data.status.toUpperCase()?(t.$toast.success({message:"OTP verified "+e.data.data.to,orientation:t.$toast.TOP_RIGHT,duration:6e3}),t.btnContinueInvokePledge=!1,t.btnConfirmInvokePledge=!0):t.$toast.error({message:"Error verifying OTP: "+e.data.message||!1,orientation:t.$toast.TOP_RIGHT,duration:6e3})})).catch((function(e){t.btnContinueInvokePledge=!0,t.btnConfirmInvokePledge=!1;var a="Failed to verify OTP";e.response?(a+=": "+e.response.data.message,t.errorMessage=e.response.data.message):e.message&&(a+=": "+e.message,t.errorMessage=e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},showEditKycModal:function(){var t=this;this.editingKyc=!0,Y.post("/api/loans/otpcreate",{provider:"mobile"}).then((function(e){t.hideEditKycModal();var a=t;"SUCCESS"===e.data.status.toUpperCase()&&e.data.data&&e.data.data.id&&e.data.data.namespace?OTPGateway(e.data.data.namespace,e.data.data.id,(function(t,e){a.verifyOtp()}),(function(){a.editingKyc=!1,a.editKycSection=""})):(t.editingKyc=!1,t.editKycSection="",t.$toast.error({message:"Error editing profile data: "+e.data.message||!1,orientation:t.$toast.TOP_RIGHT,duration:6e3}))})).catch((function(e){t.editingKyc=!1,t.editKycSection="";var a="Failed to edit profile data";e.response?(a+=": "+e.response.data.message,t.errorMessage=e.response.data.message):e.message&&(a+=": "+e.message,t.errorMessage=e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},hideExistingLoanAmountPopUp:function(){this.activatePopUp(!1)},loanInfoDetails:function(t){this.loanInfoInterestRate=t.interest_rate,this.loanInfoPledgingAmount=t.loan_amount,this.loanInfoPurpose=t.loan_purpose;var e=t.bank_details.account_number.toString().length;this.loanInfoBankDetail=t.bank_details.name+" — XXX "+t.bank_details.account_number.toString().slice(e-4,e)},confirmPayLoanClosureAmount:function(){var t=this;this.processingRazorPayment=!0,Y.post("/api/loans/orderid",{amount:this.loansClosureAmount,closure:1}).then((function(e){var a=e.data;t.loanClosureRepaymentOrderId=a.data&&a.data.order_id})).then((function(){var e=t.loansClosureAmount,a=t,s={key:Object({NODE_ENV:"production",BASE_URL:"/"}).RAZORPAY_KEY,amount:(100*e).toFixed(2),name:"Zerodha",description:"Paying amount",image:"https://zerodha.com/static/images/logo.svg",order_id:t.loanClosureRepaymentOrderId,handler:function(a){t.makeLoanClosurePayment({amount:e,paymentId:a.razorpay_payment_id,orderId:t.loanClosureRepaymentOrderId}).then((function(e){t.repaymentSuccess=!0,200===e.status&&(t.$toast.success({message:"Loan closure repayment is successful",orientation:t.$toast.TOP_RIGHT,duration:6e3}),window.location.href="/loans/",t.getLoansStatus())})).catch((function(e){var a="Failed to pay the amount";e.response?a+=": "+e.response.data.message:e.message&&(a+=": "+e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},modal:{ondismiss:function(){a.processingRazorPayment=!1}},prefill:{name:t.loanApplicantName,email:t.loanApplicantEmailId,contact:t.loanApplicantMobile},theme:{color:"#0259c1"}},n=new window.Razorpay(s);n.open()})).catch((function(e){var a=e.response.data;"ERROR"===a.status&&t.$toast.error({message:a.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},confirmPaymentAmount:function(){var t=this;this.processingRazorPayment=!0;var e=Number(this.shortfallAmountEntered)||Number(this.existingLoanAmountInterest);Y.post("/api/loans/orderid",{amount:e}).then((function(e){var a=e.data;t.loanRepaymentOrderId=a.data&&a.data.order_id})).then((function(){var a=t,s={key:Object({NODE_ENV:"production",BASE_URL:"/"}).RAZORPAY_KEY,amount:(100*e).toFixed(2),name:"Zerodha",description:"Paying amount",image:"https://zerodha.com/static/images/logo.svg",order_id:t.loanRepaymentOrderId,handler:function(a){t.makeRepayment({amount:e,paymentId:a.razorpay_payment_id,orderId:t.loanRepaymentOrderId}).then((function(e){t.repaymentSuccess=!0,"SUCCESS"===e.data.message.toUpperCase()&&(t.$toast.success({message:"Your repayment is successful",orientation:t.$toast.TOP_RIGHT,duration:6e3}),window.location.href="/loans/",t.getLoansStatus())})).catch((function(e){var a="Failed to pay the amount";e.response?a+=": "+e.response.data.message:e.message&&(a+=": "+e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},modal:{ondismiss:function(){a.processingRazorPayment=!1}},prefill:{name:t.loanApplicantName,email:t.loanApplicantEmailId,contact:t.loanApplicantMobile},theme:{color:"#0259c1"}},n=new window.Razorpay(s);n.open()})).catch((function(e){var a=e.response.data;"ERROR"===a.status&&t.$toast.error({message:a.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},filteringData:function(){this.searchQuery.trim().length>0?document.getElementsByClassName("clear")[0].style.display="block":document.getElementsByClassName("clear")[0].style.display="none"},clearSearch:function(){this.searchQuery="",document.getElementsByClassName("clear")[0].style.display="none"},expandSearch:function(){document.getElementsByClassName("search-table")[0].classList.add("expand"),document.getElementsByClassName("filter-input")[0].setAttribute("placeholder","Filter eg: INFY")},hideSearch:function(){document.getElementsByClassName("search-table")[0].classList.remove("expand"),document.getElementsByClassName("filter-input")[0].setAttribute("placeholder","Search"),document.getElementsByClassName("clear")[0].style.display="none",document.getElementsByClassName("filter-input")[0].blur()},digioSuccess:function(t){var e=this;Y.post("/api/loans/updatedocs",{id:t}).then((function(t){if("SUCCESS"===t.data.status.toUpperCase()){var a=t.data;e.getLoansOverview(a)}})).catch((function(t){var a="Update documents failed";t.response?a+=": "+t.response.data.message:t.message&&(a+=": "+t.message),e.$toast.error({message:a,orientation:e.$toast.TOP_RIGHT,duration:6e3}),401===t.response.status&&(window.location.href="/")}))},getCurrentDate:function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,s=t.getFullYear();return e<10&&(e="0"+e),a<10&&(a="0"+a),t=s+"-"+a+"-"+e,t},uploadToDigio:function(t){var e=this;this.digioBtnProcessing=!0;var a="https://notary.zerodha.com/notary/api/v1/sign/"+t.id,s=1e3,n=700,i=screen.width?(screen.width-s)/2:100,o=screen.height?(screen.height-n)/2:100,r="width="+s+",height="+n+",top="+o+",left="+i+",scrollbars=yes,location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no",l=window.open(a,"digio",r);setTimeout((function(){function a(){l&&!l.closed&&l.focus()}l.focus(),document.onclick=a,document.onkeyup=a,document.onmousemove=a;var s=e,n=window.setInterval((function(){!1!==l.closed&&(window.clearInterval(n),s.digioBtnProcessing=!1,s.digioSuccess(t.id))}),200)}),1e3)},onClickKyc:function(){var t=this,e=this.dateOfBirth,a=z(e),s={ckyc_number:this.ckycNumber,dob:a};this.isCkycDataAvailable=!1,this.preparingEligibility=!0,o.a.create({timeout:3e4,responseType:"json",headers:{"X-CSRFToken":U,"Content-Type":"application/json"}}).post("/api/loans/kyc",s).then((function(e){var a=e.data;t.ckycData=a.data,t.preparingEligibility=!1,t.isCkycDataAvailable=!0})).catch((function(e){t.isCkycDataAvailable=!1,t.preparingEligibility=!1;var a=e.response.data;t.reKycMessage=a.message,417===e.response.status?(t.eligibilityFailed=!0,t.isReKycRequired=!0):419===e.response.status?(t.eligibilityFailed=!0,t.isReKycProcessing=!0):t.$toast.error({message:a.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},getLoansOverview:function(t){var e=this;"ONBOARDING_PENDING"===t.message?(this.nbfcInitiated=!0,this.preparingEligibility=!1,V.get("/api/user_profile").then((function(t){var a=t.data;if("SUCCESS"===a.status.toUpperCase()){var s=a.data.result[0].dob;e.ckycNumber=a.data.result[0].ckyc_number,e.dateOfBirth=s.slice(0,10)}})).catch((function(t){if(408===t.response.status||"ECONNABORTED"===t.code)e.$toast.error({message:"Request timed out. Please try again.",orientation:e.$toast.TOP_RIGHT,duration:6e3});else{var a="Failed to load profile data";t.response?a+=": "+t.response.data.message:t.message&&(a+=": "+t.message),e.$toast.error({message:a,orientation:e.$toast.TOP_RIGHT,duration:6e3})}401===t.response.status&&(window.location.href="/")}))):"ELIGIBILITY_SUCCESS"===t.message?this.showLoansDashboard&&q.get("/api/loans/overview").then((function(t){var a=t.data;if(e.isCkycDataAvailable=!1,e.showLoansDashboard=!0,a.data&&Object.keys(a.data).length){e.existingLoan=a.data.existing_loan,e.interestRate=a.data.interest_rate,e.holdings=a.data.holdings_estimate,e.existingLoanInterest=a.data.existing_loan&&a.data.existing_loan.interest_rate,e.totalOutstanding=a.data.existing_loan&&a.data.existing_loan.pending_principal_amount,e.totalRepaymentAmount=a.data.existing_loan&&a.data.existing_loan.repayment_amount,e.loanApplicantEmailId=a.data.existing_loan&&a.data.existing_loan.email,e.loanApplicantName=a.data.existing_loan&&a.data.existing_loan.loan_applicant,e.loanApplicantMobile=a.data.existing_loan&&a.data.existing_loan.mobile,e.minimumPaymentAmount=a.data.existing_loan&&a.data.existing_loan.payable_amount,e.currentLTVRatio=a.data.existing_loan&&a.data.existing_loan.current_ltv_ratio,e.shortfallAmount=a.data.existing_loan&&a.data.existing_loan.shortfall_amount,e.shortfallAmountEntered=a.data.existing_loan&&a.data.existing_loan.shortfall_amount,e.shortfallDuedate=a.data.existing_loan&&a.data.existing_loan.due_date;var s=0;e.holdings.map((function(t,e){s+=t.amount})),e.totalPledgeValue=s}else e.dashboardHoldingsDataLoaded=!0})).then((function(){e.dashboardHoldingsDataLoaded=!0})).catch((function(t){var a="";t.response?(a="You do not have any approved stocks in your holdings!",a+=": "+t.response.data.message,e.dashboardHoldingsDataFailed=!0):t.request?(a="Could not fetch your holdings. Try again later.",e.dashboardHoldingsDataFetchFailed=!0):t.message&&(a=t.message),e.$toast.error({message:a,orientation:e.$toast.TOP_RIGHT,duration:6e3}),401===t.response.status&&(window.location.href="/")})):"ELIGIBILITY_FAILED"===t.message?this.eligibilityFailed=!0:"PROCESSING_FEE_PAID"===t.message?this.processingFeePaid=!0:"PROCESSING_DOCUMENTS"===t.message?(this.showLoansDashboard=!1,this.showOffers=!1,this.processingDocuments=!0,this.loanInfoDetails(t.data.loan_info)):"PLEDGE_SUCCESS"===t.message||"PLEDGE_PENDING"===t.message?(this.stampDutyPaid=!1,this.loanRequestInitiated=!0,this.loanInfoDetails(t.data.loan_info)):"DOCUMENTS_READY"!==t.message&&"DOCUMENTS_SIGNED"!==t.message||("DOCUMENTS_SIGNED"===t.message?(this.stampDutyPaid=!0,this.step=2,this.invokePledge(),this.loanInfoDetails(t.data.loan_info)):(this.fetchingLoanDocuments=!0,V.get("/api/loans/documents").then((function(t){e.step=1,e.documentsList=[];var a=t.data,s=a.data.documents,n=a.data.loan_info;for(var i in e.fetchingLoanDocuments=!1,s){var o={};o["id"]=s[i]["id"],o["identifier"]=s[i]["identifier"],o["file_type"]=s[i]["file_type"],e.documentsList.push(o)}e.showLoansDashboard=!1,e.showOffers=!1,e.loanInfoDetails(n)})).catch((function(t){var a="Failed to fetch loan documents";t.response?a+=": "+t.response.data.message:t.message&&(a+=": "+t.message),e.$toast.error({message:a,orientation:e.$toast.TOP_RIGHT,duration:6e3}),401===t.response.status&&(window.location.href="/")})),this.stampDutyPaid=!0))},onPledgedHoldings:function(t){this.pledgedHoldings=t},redirectToOffersPage:function(){var t,e=this,a=[],s=[];this.isProcessing=!0,t=void 0!==this.pledgedHoldings&&void 0!==this.pledgedHoldings.holdings&&this.pledgedHoldings.holdings.length>0?this.pledgedHoldings.holdings:this.stocksPledged;var n,i=E(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,r={},l={};l.instrument_id=r.instrument_id=o.instrument_id,l.isin=r.isin=o.isin,l.quantity=r.quantity=o.pledge_qty,l.loan_value=o.loan_value,a.push(r),s.push(l)}}catch(c){i.e(c)}finally{i.f()}!s.length>0&&(s=this.stocksPledged),this.postStocksPledgeData(s),this.postStocksTotalAmount(this.loanValue),this.getPledgedHoldingsData(this.eligibilityEmptyStatus),Y.post("/api/loans/offers",{stocks:a,amount:this.loanValue}).then((function(t){e.getPledgedHoldingsData(t.data)})).then((function(){e.showOffers=!0,e.isProcessing=!1})).catch((function(t){e.isProcessing=!1,e.showOffers=!1;var a="";t.response?a+=t.response.data.message:t.message&&(a+=t.message),e.$toast.error({message:a,orientation:e.$toast.TOP_RIGHT,duration:6e3}),401===t.response.status&&(window.location.href="/")}))},redirectToFatcaPage:function(){var t=this;this.isKycDetailsAreCorrect&&this.isZerodhaCapitalToCheckCreditScore&&(this.processingFatcaRedirect=!0,Y.post("/api/loans/acceptkyc",{ckyc_status:1}).then((function(e){t.processingFatcaRedirect=!1,t.showFatcaContainer=!0})).catch((function(e){var a="Failed to redirect to fatca";e.response?a+=": "+e.response.data.message:e.message&&(a+=": "+e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")})))},redirectToKiteLogin:function(){window.open("https://signup.zerodha.com/kite/login?source=nbfc","_self")}}),filters:{dateToReadableStr:function(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a="",s=t.split("-");return a+=s[2]+" "+e[Number(s[1]-1)]+" "+s[0],a}}},Z=W,J=Object(A["a"])(Z,s,n,!1,null,null,null);e["default"]=J.exports},d361:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("hr",{staticClass:"header-hr"}),t._v(" "),a("div",{staticClass:"section"},[a("su-form",[a("div",{class:{locked:t.fetchingLedger,inputcontainer:!0,row:!0}},[a("div",{class:{three:!0,columns:!0,lockContainer:t.fetchingLedger,"su-input-group  su-static-label":!0}},[t.fetchingLedger?a("div",{staticClass:"input-lock"}):t._e(),t._v(" "),a("label",{staticClass:"su-input-label"},[t._v("Date")]),t._v(" "),a("datepicker",{attrs:{range:"",lang:"en","not-before":"2016-04-01","not-after":"2021-12-31",format:t.format,placeholder:"To date"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v(" "),a("div",{class:{two:!0,columns:!0,lockContainer:t.fetchingLedger}},[a("label",[t._v(" ")]),a("br"),t._v(" "),t.fetchingLedger?t._e():a("su-button",{staticClass:"btn-blue",attrs:{type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.getLedgerDetails(t.dateRange[0],t.dateRange[1])}}},[t._v("View")]),t._v(" "),t.fetchingLedger?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"lock-img-container",attrs:{title:"Please wait while your report is being built"}},[a("img",{staticClass:"lock-class",attrs:{src:"/static/images/lock.svg"}}),t._v(" "),a("su-loader")],1):t._e()],1)])]),t._v(" "),t.fetchingLedger?a("div",{staticClass:"section text-center"},[a("jobber",{attrs:{main:"Fetching your interest statement",sub:"",loader:!0}})],1):t._e(),t._v(" "),t.initScreen?a("div",{staticClass:"section text-center"},[a("init")],1):t._e(),t._v(" "),!t.noResults||t.fetchingLedger||t.ledgerError?t._e():a("div",{staticClass:"section text-center"},[a("empty")],1)],1),t._v(" "),t.ledger_items.length>0?a("div",{staticClass:"loans section"},[a("div",{staticClass:"pledge-statements-container"},[a("su-table",{attrs:{headers:t.ledgerDetailsHeaders,data:t.ledger_items,pagination:"","per-page":t.perPage,"current-page":t.currentPage,"next-text":">","prev-text":"<"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t"+t._s(e.row.posting_date)+"\n\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textleft"},[t._v("\n\t\t\t\t\t\t"+t._s(e.row.remarks)+"\n\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textright"},[t._v("\n\t\t\t\t\t\t"+t._s(e.row.debit)+"\n\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"textright"},[t._v("\n\t\t\t\t\t\t"+t._s(e.row.credit)+"\n\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.row.net_balance)+"\n\t\t\t\t\t")])]}}],null,!1,754602693)})],1)]):t._e()])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"v-align"},[a("span",{staticClass:"icon icon-credit-card"}),t._v("\n\t\tLoans\n\t\t"),a("img",{staticClass:"img-zerodha-capital hide-on-mobile",attrs:{src:"/static/images/zerodha-capital.svg"}})])}],i=a("8508"),o=a.n(i),r=a("bc3a"),l=a.n(r),c=a("2e34"),u=a("02bc"),d=a("89be"),h=a("3fb9"),p=a("5dfe"),m=a("5975"),v=a("eeee");function g(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}var f=g("public_token"),b=l.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":f,"Content-Type":"application/json"}}),_="/api/loans/ledger";function y(t){var e=t,a=""+(e.getMonth()+1),s=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[n,a,s].join("-")}var C={components:{datepicker:o.a,jobber:c["a"],init:d["a"],empty:u["a"],error:h["a"],"su-button":p["a"],"su-loader":m["a"],"su-table":v["a"]},data:function(){return{perPage:20,currentPage:1,jobDone:!1,ledger_items:[],params:{},startDate:new Date,endDate:new Date,dateRange:[new Date,new Date],format:"YYYY-MM-DD",fetchingLedgerDetails:!1,noResults:!1,initScreen:!0,fetchingLedger:!1,ledgerError:!1,ledgerErrorMsg:"Please try again",ledgerDetailsHeaders:[{class:[],label:"Date",field:"posting_date"},{class:[],label:"Remarks",field:"remarks"},{class:[],label:"Debit",field:"debit"},{class:[],label:"Credit",field:"credit"},{class:[],label:"Net balance",field:"net_balance"}]}},methods:{getLedgerDetails:function(t,e){var a=this;t?(this.startDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.endDate=e?new Date(e.getFullYear(),e.getMonth(),e.getDate()):new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.startDate>this.endDate?this.$toast.warning({message:"'To' parameter should be greater than or equal to 'From'",orientation:this.$toast.TOP_RIGHT,duration:6e3}):(this.noResults=!1,this.initScreen=!1,this.fetchingLedger=!0,this.ledgerError=!1,this.jobDone=!1,b.post(_,{from_date:y(this.startDate),to_date:y(this.endDate)}).then((function(t){a.ledger_items=[],"SUCCESS"===t.data.status.toUpperCase()?(a.fetchingLedger=!1,a.jobDone=!0,a.params={startDate:a.startDate,endDate:a.endDate},a.ledger_items=t.data.data.ledger.map((function(t,e){return t})),0===t.data.data.ledger.length?a.noResults=!0:(a.pages=Math.round(t.data.data.ledger.length/20)+1,a.noResults=!1)):(a.fetchingLedger=!1,a.ledgerError=!0,a.$toast.error({message:"Error fetching interest statement: "+t.data.message||!1,orientation:a.$toast.TOP_RIGHT,duration:6e3}))})).catch((function(t){a.fetchingLedger=!1,a.ledgerError=!0;var e="Failed to fetch interest statement";t.response?(e+=": "+t.response.data.message,a.ledgerErrorMsg=t.response.data.message):t.message&&(e+=": "+t.message,a.ledgerErrorMsg=t.message),a.$toast.error({message:e,orientation:a.$toast.TOP_RIGHT,duration:6e3}),401===t.response.status&&(window.location.href="/")})))):this.$toast.warning({message:"From date is required",orientation:this.$toast.TOP_RIGHT,duration:6e3})}}},w=C,k=a("2877"),S=Object(k["a"])(w,s,n,!1,null,null,null);e["default"]=S.exports},d796:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("su-form",{on:{submit:function(e){return e.preventDefault(),t.doneFatcaCorrection.apply(null,arguments)}}},[a("div",{staticClass:"section fatca"},[a("h2",[t._v("FATCA declaration "),a("span",{staticClass:"text-small text-light-grey"},[t._v("(Foreign Account Tax Compliance Act. "),a("a",{attrs:{href:"https://support.zerodha.com/category/console/profile/articles/fatca",target:"_blank"}},[t._v("Learn more")]),t._v(".)"),a("a",{attrs:{href:"https://zerodhacapital.com/tos/faq#fatca",target:"_blank"}},[a("span",{staticClass:"icon icon-help-circle"})])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"City of birth",placeholder:"City of birth"},model:{value:t.birthCity,callback:function(e){t.birthCity=e},expression:"birthCity"}})],1),t._v(" "),a("div",{staticClass:"four columns su-input-group su-static-label"},[t.birthCountry?a("label",{staticClass:"su-input-label"},[t._v("Country of birth")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.birthCountry,expression:"birthCountry"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.birthCountry=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Country of birth")]),t._v(" "),t._l(t.fatcaISOCountryCode,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"four columns"},[a("label",[t._v("Do you have any other country of tax residence?")]),t._v(" "),a("su-radio-group",{model:{value:t.hasOtherCountryTaxResidence,callback:function(e){t.hasOtherCountryTaxResidence=e},expression:"hasOtherCountryTaxResidence"}},[a("su-radio",{attrs:{value:"yes",label:"Yes"}}),t._v(" "),a("su-radio",{attrs:{value:"no",label:"No"}})],1)],1)]),t._v(" "),"yes"===t.hasOtherCountryTaxResidence?a("div",{staticClass:"row input-container"},[a("div",{staticClass:"four columns su-input-group su-static-label"},[t.otherCountryTaxResidence?a("label",{staticClass:"su-input-label"},[t._v("Other country of tax residence")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.otherCountryTaxResidence,expression:"otherCountryTaxResidence"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.otherCountryTaxResidence=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Other country of tax residence")]),t._v(" "),t._l(t.fatcaISOCountryCode,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Tax identification number",placeholder:"Tax identification number"},model:{value:t.taxID,callback:function(e){t.taxID=e},expression:"taxID"}})],1),t._v(" "),a("br")]):t._e(),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"three columns su-input-group su-static-label"},[t.incomeSlab?a("label",{staticClass:"su-input-label"},[t._v("Income slab")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.incomeSlab,expression:"incomeSlab"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.incomeSlab=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Income slab")]),t._v(" "),t._l(t.fatcaIncomeSlab,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"three columns su-input-group su-static-label"},[t.wealthSource?a("label",{staticClass:"su-input-label"},[t._v("Source of wealth")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.wealthSource,expression:"wealthSource"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.wealthSource=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Source of wealth")]),t._v(" "),t._l(t.fatcaSourceWealth,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"number","dynamic-label":"","no-error":"",label:"Net worth (optional)",placeholder:"Net worth (optional)"},model:{value:t.netWorth,callback:function(e){t.netWorth=e},expression:"netWorth"}})],1),t._v(" "),a("div",{staticClass:"three columns su-input-group su-static-label"},[t.netWorthDate?a("label",{staticClass:"su-input-label"},[t._v("Net worth date (optional)")]):t._e(),t._v(" "),a("datepicker",{attrs:{format:t.format,lang:"en","not-before":"1900-01-01","not-after":t.currentDate,placeholder:"Net worth date (optional)"},model:{value:t.netWorthDate,callback:function(e){t.netWorthDate=e},expression:"netWorthDate"}})],1)]),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"four columns"},[a("label",[t._v("Are you a politically exposed person? "),a("a",{attrs:{href:"https://zerodhacapital.com/tos/faq#pep",target:"_blank"}},[a("span",{staticClass:"icon icon-help-circle"})])]),t._v(" "),a("su-radio-group",{model:{value:t.isPoliticallyExposed,callback:function(e){t.isPoliticallyExposed=e},expression:"isPoliticallyExposed"}},[a("su-radio",{attrs:{value:"yes",label:"Yes"}}),t._v(" "),a("su-radio",{attrs:{value:"no",label:"No"}})],1)],1)]),t._v(" "),a("br"),t._v(" "),a("h2",[t._v("Personal details")]),t._v(" "),a("div",{staticClass:"row input-container"},[a("div",{staticClass:"three columns su-input-group su-static-label"},[t.mStatus?a("label",{staticClass:"su-input-label"},[t._v("Marital status")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.mStatus,expression:"mStatus"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.mStatus=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Select marital status")]),t._v(" "),t._l(t.maritalStatusChoices,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Mother's first name",placeholder:"Mother's first name"},model:{value:t.mothersFirstName,callback:function(e){t.mothersFirstName=e},expression:"mothersFirstName"}})],1),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Mother's middle name (optional)",placeholder:"Mother's middle name (optional)"},model:{value:t.mothersMiddleName,callback:function(e){t.mothersMiddleName=e},expression:"mothersMiddleName"}})],1),t._v(" "),a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"text","dynamic-label":"","no-error":"",label:"Mother's last name",placeholder:"Mother's last name"},model:{value:t.mothersLastName,callback:function(e){t.mothersLastName=e},expression:"mothersLastName"}})],1)]),t._v(" "),a("div",{staticClass:"fatca-tac"},[a("p",[a("su-checkbox",{attrs:{label:"I confirm that the information provided above is true, correct and complete to the best of my knowledge. In case any of the above specified information is found to be false or untrue, I am aware that I will be liable for it"},model:{value:t.confirmFatcaInfo,callback:function(e){t.confirmFatcaInfo=e},expression:"confirmFatcaInfo"}})],1),t._v(" "),a("p",[a("su-checkbox",{attrs:{label:"In case of any change in the above given status on a future date, I undertake to inform Zerodha Capital Private Limited within 30 days"},model:{value:t.fatcaStatusChangeOnFuture,callback:function(e){t.fatcaStatusChangeOnFuture=e},expression:"fatcaStatusChangeOnFuture"}}),a("br")],1)]),t._v(" "),a("div",[a("su-button",{class:t.validateFatcaDeclaration?"btn-grey":"btn-blue",attrs:{disabled:t.validateFatcaDeclaration||t.isFatcaCorrectionProcessing,type:"submit"}},[t._v("Confirm")])],1)])])],1)},n=[],i=a("bc3a"),o=a.n(i),r=a("8508"),l=a.n(r),c=a("eeee");function u(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}var d=u("public_token"),h=o.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":d,"Content-Type":"application/json"}}),p={name:"fatcacorrection",components:{"su-table":c["a"],datepicker:l.a},data:function(){return{birthCity:"",birthCountry:"IN",hasOtherCountryTaxResidence:"no",isPoliticallyExposed:"no",otherCountryTaxResidence:"",confirmFatcaInfo:!1,fatcaStatusChangeOnFuture:!1,taxID:"",incomeSlab:"",wealthSource:"",netWorth:"",format:"YYYY-MM-DD",netWorthDate:"",currentDate:"",mStatus:"",mothersFirstName:"",mothersMiddleName:"",mothersLastName:"",fatcaSourceWealth:{"01":"Salary","02":"Business Income","03":"Gift","04":"Ancestral Property","05":"Rental Income","06":"Prize Money","07":"Royalty","08":"Others"},fatcaIncomeSlab:{"<1":"Below 1 Lakh","1-5":"1-5 Lacs","5-10":"5-10 Lacs","10-25":"10-25 Lacs","25-1cr":"25 Lacs - 1 crore",">1cr":"Above 1 Crore"},maritalStatusChoices:{M:"Married",S:"Single",W:"Widow/Widower",D:"Divorce",NA:"Not Applicable"},fatcaISOCountryCode:{AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, the Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote d'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curacao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},isFatcaCorrectionProcessing:!1}},mounted:function(){this.pageScrollToTop(),this.currentDate=this.getCurrentDate()},computed:{validateFatcaDeclaration:function(){var t;return t="yes"===this.hasOtherCountryTaxResidence?""===this.birthCity||""===this.birthCountry||""===this.otherCountryTaxResidence||""===this.taxID||""===this.incomeSlab||""===this.wealthSource||""===this.mStatus||""===this.mothersFirstName||""===this.mothersLastName||!this.confirmFatcaInfo||!this.fatcaStatusChangeOnFuture:""===this.birthCity||""===this.birthCountry||""===this.incomeSlab||""===this.wealthSource||""===this.mStatus||""===this.mothersFirstName||""===this.mothersLastName||!this.confirmFatcaInfo||!this.fatcaStatusChangeOnFuture,t}},methods:{pageScrollToTop:function(){window.scrollTo(0,0)},getCurrentDate:function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,s=t.getFullYear();return e<10&&(e="0"+e),a<10&&(a="0"+a),t=s+"-"+a+"-"+e,t},doneFatcaCorrection:function(){var t=this,e={other_country_tax_residence:{}};e.birth_city=this.birthCity,e.birth_country=this.birthCountry,e.other_country_tax_residence.country=this.otherCountryTaxResidence,e.other_country_tax_residence.tax_identification_number=this.taxID,e.income_slab=this.incomeSlab,e.source_of_wealth=this.wealthSource,e.net_worth=this.netWorth,e.net_worth_date=this.netWorthDate,e.maritial_status=this.mStatus,e.mothers_first_name=this.mothersFirstName,e.mothers_middle_name=this.mothersMiddleName,e.mothers_last_name=this.mothersLastName,e.politically_exposed=this.isPoliticallyExposed,"no"===this.hasOtherCountryTaxResidence&&(e.other_country_tax_residence=null),this.isFatcaCorrectionProcessing=!0,h.post("/api/loans/fatca_correction",e).then((function(e){var a=e.data;"SUCCESS"===a.status&&(t.isFatcaCorrectionProcessing=!1,t.$router.push("/loans/"))})).catch((function(e){var a="";e.response?a+=e.response.data.message:e.message&&(a+=e.message),t.$toast.error({message:a,orientation:t.$toast.TOP_RIGHT,duration:6e3}),t.isFatcaCorrectionProcessing=!1,401===e.response.status&&(window.location.href="/")}))}}},m=p,v=a("2877"),g=Object(v["a"])(m,s,n,!1,null,null,null);e["default"]=g.exports},e2ac:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"dropdown"}},[a("div",{staticClass:"mobile-context-menu",attrs:{id:"mobile-context-menu-"+t._uid},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.close.apply(null,arguments)}}},[a("ul",{staticClass:"mobile-context-menu-list list-flat"},[t._t("menu")],2)])])},n=[],i={name:"context-menu",props:{},data:function(){return{}},deactivated:function(){},methods:{close:function(){this.$emit("close")}}},o=i,r=a("2877"),l=Object(r["a"])(o,s,n,!1,null,null,null);e["a"]=l.exports},ee54:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.stocksPledged.length!==t.collateralList.length?a("jobber",{attrs:{main:"Fetching loan offer",sub:"",loader:!0}}):t._e(),t._v(" "),t.collateralList.length>0&&t.stocksPledged.length===t.collateralList.length&&!t.isRedirecting?a("div",{staticClass:"row loan-confirm-wrapper"},[a("div",{staticClass:"six columns"},[a("h1",[t._v("Confirm loan "+t._s(t.topup?"top-up":""))]),t._v(" "),a("h3",[t._v("The below stocks will be pledged for the loan.")]),t._v(" "),a("div",{staticClass:"row loan-pledge-confirm"},[a("div",[a("label",{staticClass:"label text-grey"},[t._v("Your demat")]),t._v(" "),a("p",[t._v(t._s(t.dpDetails.dp_account_no))])]),t._v(" "),t._m(0),t._v(" "),a("div",[a("label",{staticClass:"label text-grey"},[t._v("Zerodha Capital Pvt. Ltd. demat")]),t._v(" "),a("p",[t._v(t._s(t.nbfcDp))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"twelve columns"},[a("h3",{staticClass:"edit-pledge-stocks-header"},[t._v("\n\t\t\t\t\t\tSelected stocks ("+t._s(t.collateralList.length)+")\n\t\t\t\t\t\t"),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"edit-pledge-stocks",attrs:{title:"Edit"}},[a("span",{staticClass:"icon icon-edit",on:{click:function(e){return t.redirectToLoansDashboardPage(!0)}}})])]),t._v(" "),a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-container confirm-table-container"},[a("div",[a("su-table",{attrs:{sort:"",tableBorder:"",headers:t.pledgeStocksHeader,data:t.collateralList},scopedSlots:t._u([{key:"default",fn:function(e){return[a("td",{staticClass:"textleft table-border"},[t._v(t._s(e.row.tradingsymbol)+" "),a("p",{staticClass:"text-light-grey text-xsmall"},[t._v(t._s(e.row.isin))])]),t._v(" "),a("td",[t._v(t._s(e.row.quantity))]),t._v(" "),a("td",{staticClass:"textright"},[t._v(t._s(t._f("inrFormat")(e.row.amount,0,null,!1)))])]}}],null,!1,2563554014)})],1)])]),t._v(" "),a("p",{staticClass:"text-light-grey text-xsmall"},[t._v("*Note: Auto Renewal of your loan after 1 year shall be subject to periodical review with the terms of sanction during your loan term.")])])])]),t._v(" "),a("div",{staticClass:"six columns confirm-kyc-details"},[a("div",{staticClass:"row"},[a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Loan amount offered")]),t._v(" "),a("h2",[t._v("₹"+t._s(t._f("inrFormat")(Math.ceil(t.eligibleAmount),0)))])]),t._v(" "),a("div",{staticClass:"six columns"},[a("label",{staticClass:"label text-grey"},[t._v("Applicable interest rate")]),t._v(" "),a("div",{staticClass:"interest-rate"},[a("h2",[t._v(t._s(t.interestRate)+"%  ")])])])]),t._v(" "),a("p",{staticClass:"text-grey text-xsmall annum-charge"},[t._v("*Interest rate per annum charged on a monthly basis. Tenure is 1 year (Auto renewable).")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"kyc-details"},[a("div",{staticClass:"loan-purpose-details su-input-group su-static-label"},[a("label",{staticClass:"su-input-label"},[t._v("Purpose of the loan")]),t._v(" "),t.topup?t._e():a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.loanPurpose,expression:"loanPurpose"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.loanPurpose=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Select purpose")]),t._v(" "),a("option",{attrs:{value:"Education"}},[t._v("Education")]),t._v(" "),a("option",{attrs:{value:"Home improvement & renovation"}},[t._v("Home improvement & renovation")]),t._v(" "),a("option",{attrs:{value:"Hospital or medical expenses"}},[t._v("Hospital or medical expenses")]),t._v(" "),a("option",{attrs:{value:"Other"}},[t._v("Other")]),t._v(" "),a("option",{attrs:{value:"Purchasing vehicle"}},[t._v("Purchasing vehicle")]),t._v(" "),a("option",{attrs:{value:"Repaying/part payment of a separate loan or consolidation of debt."}},[t._v("Repaying/part payment of a separate loan or consolidation of debt.")]),t._v(" "),a("option",{attrs:{value:"Travel/vacation"}},[t._v("Travel/vacation")]),t._v(" "),a("option",{attrs:{value:"Wedding"}},[t._v("Wedding")])])]),t._v(" "),t.topup&&t.purposeOfLoan?a("div",[a("select",[a("option",{domProps:{value:t.purposeOfLoan}},[t._v(t._s(t.purposeOfLoan))])])]):t._e()]),t._v(" "),"Other"===t.loanPurpose?a("div",{staticClass:"loan-purpose-text su-input-group su-static-label"},[a("label",{staticClass:"su-input-label"},[t._v("Please mention the purpose")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.loanPurposeText,expression:"loanPurposeText"}],attrs:{type:"text",maxlength:100,autocorrect:"off",autocapitalize:"none",noerror:"true",staticlabel:"true",animate:"true"},domProps:{value:t.loanPurposeText},on:{keypress:function(e){return t.validateAlphabet(e)},input:function(e){e.target.composing||(t.loanPurposeText=e.target.value)}}})]):t._e(),t._v(" "),a("div",{staticClass:"bank-account-details su-input-group su-static-label"},[a("label",{staticClass:"su-input-label"},[t._v("Bank account you would like to get the loan on")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.bankDetailsFormat[0],expression:"bankDetailsFormat[0]"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.bankDetailsFormat,0,e.target.multiple?a:a[0])}}},t._l(t.bankDetailsFormat,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])})),0)])]),t._v(" "),a("p",{staticClass:"confirm-termsheet"},[a("su-checkbox",{attrs:{label:t.termsheetLabel},model:{value:t.confirmTermsheetInfo,callback:function(e){t.confirmTermsheetInfo=e},expression:"confirmTermsheetInfo"}})],1),t._v(" "),t._m(1),t._v(" "),t.topup||0===t.processingFee?t._e():a("div",{staticClass:"processing-fee"},[a("p",[t._v("\n\t\t\t\t\tPay the processing fee of\n\t\t\t\t\t"),a("span",[t._v("₹"+t._s(t.processingFee))]),t._v(" to continue.\n\t\t\t\t\t"),t._m(2)])]),t._v(" "),t.topup||0===t.processingFee?t.topup||0!==t.processingFee?a("div",{staticClass:"processing-fee"},[a("su-button",{staticClass:"btn confirm-btn",class:""!==t.purposeOfLoan&&t.confirmTermsheetInfo?"btn-blue":"btn-grey",attrs:{disabled:!(""!==t.purposeOfLoan&&t.confirmTermsheetInfo)||t.isProcessing,processing:t.isProcessing},nativeOn:{click:function(e){return t.doTopUp.apply(null,arguments)}}},[t._v("Continue")])],1):a("div",[a("su-button",{staticClass:"btn confirm-btn",class:("Other"===t.loanPurpose?""!==t.loanPurposeText:t.loanPurpose)&&t.confirmTermsheetInfo?"btn-blue":"btn-grey",attrs:{disabled:!(("Other"===t.loanPurpose?""!==t.loanPurposeText:t.loanPurpose)&&t.confirmTermsheetInfo)||t.isProcessing,processing:t.isProcessing},nativeOn:{click:function(e){return t.payWithZeroProcessingFee.apply(null,arguments)}}},[t._v("Continue")])],1):a("div",[a("su-button",{staticClass:"btn confirm-btn",class:("Other"===t.loanPurpose?""!==t.loanPurposeText:t.loanPurpose)&&t.confirmTermsheetInfo?"btn-blue":"btn-grey",attrs:{disabled:!(("Other"===t.loanPurpose?""!==t.loanPurposeText:t.loanPurpose)&&t.confirmTermsheetInfo)||t.isRzPayProcessing,processing:t.isRzPayProcessing},nativeOn:{click:function(e){return t.rzpPay.apply(null,arguments)}}},[t._v("Continue")])],1)])]):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"icon icon-arrow-right"}),t._v(" "),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"verify-aadhaar-text"},[t._v("\n\t\t\t\tYou have to e-Sign the loan documents with your Aadhaar.\n\t\t\t\t"),a("a",{attrs:{href:"https://resident.uidai.gov.in/verify-email-mobile",target:"_blank"}},[t._v("Please verify here")]),t._v(" if your mobile/email is linked to your Aadhaar.\n\t\t\t")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://zerodhacapital.com/tos/faq#fee",target:"_blank"}},[a("span",{staticClass:"icon icon-help-circle"})])}],i=a("5dfe"),o=a("eeee"),r=a("2f62"),l=a("19b7"),c=a("2e34"),u=a("bc3a"),d=a.n(u);function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function v(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}var g=v("public_token"),f=d.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":g,"Content-Type":"application/json"}}),b=d.a.create({timeout:1e4,responseType:"json",headers:{"X-CSRFToken":g,"Content-Type":"application/json"}}),_=l["b"],y={components:{"su-button":i["a"],"su-table":o["a"],jobber:c["a"]},data:function(){return{loanPurpose:"",loanPurposeText:"",accountNumber:"",orderId:"",isRzPayProcessing:!1,isProcessing:!1,confirmTermsheetInfo:!1,pledgeStocksHeader:[{class:[],label:"Symbol",field:"tradingsymbol",sort:!0,tableBorder:!0,sortArrow:!0,arrowShowDefault:!0},{class:[],label:"Quantity",field:"quantity",sort:!0,arrowShowDefault:!1,sortArrow:!0},{class:[],label:"Amount required (₹)",field:"amount",sort:!0,arrowShowDefault:!1,sortArrow:!0}],isRedirecting:!1}},beforeCreate:function(){var t=document.createElement("script");t.setAttribute("src","https://checkout.razorpay.com/v1/checkout.js"),document.head.appendChild(t)},computed:p(p(p({},Object(r["c"])(_,["stocksPledged","collateralList","bankDetails","bankDetailsFormat","dpDetails","nbfcDp","topup","purposeOfLoan","eligibleAmount","processingFee","interestRate","dateOfBirth","mobile","fullName","eMail","correspondenceAddress","permanentAddress"])),Object(r["c"])(["csrf"])),{},{termsheetLabel:function(){var t="/api/loans/termsheet_download?csrf="+this.csrf;return"I agree to the terms in the <a href="+t+" target=_blank>termsheet</a>."}}),methods:p(p({},Object(r["b"])(_,["makePayment"])),{},{redirectToLoansDashboardPage:function(t){this.isRedirecting=!0,this.$emit("offersToLoansDashboard",t)},validateAlphabet:function(t){var e=String.fromCharCode(t.keyCode);if(/^[A-Za-z\s]+$/.test(e))return!0;t.preventDefault()},rzpPay:function(){var t=this;this.isRzPayProcessing=!0,f.get("/api/loans/orderid").then((function(e){var a=e.data;t.orderId=a.data&&a.data.order_id})).then((function(){var e={key:Object({NODE_ENV:"production",BASE_URL:"/"}).RAZORPAY_KEY,amount:(100*t.processingFee).toFixed(2),name:"Zerodha",description:"Processing Fee for Loan",image:"https://zerodha.com/static/images/logo.svg",order_id:t.orderId,handler:function(e){var a="Other"===t.loanPurpose?t.loanPurposeText:t.loanPurpose;t.makePayment({bankAccount:t.bankDetails[0].account_number,paymentId:e.razorpay_payment_id,loanPurpose:a}).then((function(e){t.isRzPayProcessing=!1,t.redirectToLoansDashboardPage(e)})).catch((function(e){t.isRzPayProcessing=!1;var a=e.response.data;"ERROR"===a.status.toUpperCase()&&t.$toast.error({message:"NBFC Status Error: Not allowed to view this page!",orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},prefill:{name:t.fullName,email:t.eMail,contact:t.mobile},theme:{color:"#0259c1"}},a=new window.Razorpay(e);a.open()})).catch((function(e){var a=e.response.data;"ERROR"===a.status&&t.$toast.error({message:a.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},doTopUp:function(){var t=this;this.isProcessing=!0,b.post("/api/loans/acceptoffer",{}).then((function(e){t.isProcessing=!1,t.redirectToLoansDashboardPage(e.data)})).catch((function(e){var a=e.response.data;"ERROR"===a.status&&t.$toast.error({message:a.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))},payWithZeroProcessingFee:function(){var t=this,e="Other"===this.loanPurpose?this.loanPurposeText:this.loanPurpose;this.isProcessing=!0,b.post("/api/loans/acceptoffer",{loan_purpose:e}).then((function(e){t.isProcessing=!1,t.redirectToLoansDashboardPage(e.data)})).catch((function(e){var a=e.response.data;"ERROR"===a.status&&t.$toast.error({message:a.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}),401===e.response.status&&(window.location.href="/")}))}})},C=y,w=a("2877"),k=Object(w["a"])(C,s,n,!1,null,null,null);e["a"]=k.exports},eeee:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutside,expression:"onClickOutside"}],staticClass:"data-table",attrs:{tabindex:"1"}},[t.toolbarHeader?a("div",{staticClass:"toolbar-header"},[a("h3",[t._v(t._s(t.toolbarHeaderText))])]):t._e(),t._v(" "),t.toolbar?a("div",{staticClass:"toolbar"},[t.search?a("span",{staticClass:"search",class:{expand:t.isSearchExpaned}},[a("span",{staticClass:"icon icon-search"}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.currentSearchTerm.length>0,expression:"currentSearchTerm.length > 0"}],staticClass:"clear icon icon-times",on:{click:t.clearSerachTerm}}),t._v(" "),a("su-input",{ref:"searchInput",staticClass:"search-input",attrs:{type:"search",maxlength:15,animate:!1,placeholder:t.customSearchPlaceHolder},on:{blur:t.onSearchBlur,focus:t.onSearchFocus,input:t.doDebounceFilterSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(!1)}},model:{value:t.currentSearchTerm,callback:function(e){t.currentSearchTerm="string"===typeof e?e.trim():e},expression:"currentSearchTerm"}})],1):t._e(),t._v(" "),t._t("toolbar-before"),t._v(" "),a("span",{staticClass:"download"},[t.downloadCsv?a("span",{staticClass:"download-csv link",on:{click:t.doCSVDownload}},[a("span",{staticClass:"icon icon-download"}),t._v("Download\n\t\t\t\t"),a("a",{ref:"csvDownloadLink",staticClass:"hide download-link",attrs:{href:"#"}})]):t._e()]),t._v(" "),t._t("toolbar-after")],2):t._e(),t._v(" "),a("table",[t.tableHeaders?a("thead",[a("tr",[t.select&&t.uid?a("th",{staticClass:"select"},[a("div",{class:["su-checkbox-group",{indeterminate:this.isSelectAllIndeterminate}]},["hide"!==t.selectAll?a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAllValue,expression:"selectAllValue"}],staticClass:"su-checkbox",attrs:{id:"selectall",type:"checkbox",disabled:"disable"===t.selectAll},domProps:{checked:Array.isArray(t.selectAllValue)?t._i(t.selectAllValue,null)>-1:t.selectAllValue},on:{input:t.handleSelectAll,change:function(e){var a=t.selectAllValue,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.selectAllValue=a.concat([i])):o>-1&&(t.selectAllValue=a.slice(0,o).concat(a.slice(o+1)))}else t.selectAllValue=n}}}):t._e(),t._v(" "),t._m(0)])]):t._e(),t._v(" "),t._l(t.tableHeaders,(function(e,s){return a("th",t._g({key:s,class:[e.class,e._style,{sortable:t.sort&&e.sort,"table-border":t.tableBorder&&e.tableBorder}]},t.sort&&e.sort?{click:function(){return t.doSort(e)}}:{}),[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.description,expression:"header.description"}],attrs:{title:e.description}},[t._v("\n\t\t\t\t\t\t"+t._s(e.label||e.field)+"\n\t\t\t\t\t")]),t._v(" "),t.headerCheckbox&&e.showHeaderCheckbox?a("div",{staticClass:"su-checkbox-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentHeaderCheckboxChecked,expression:"currentHeaderCheckboxChecked"}],staticClass:"su-checkbox",attrs:{id:"header-"+e.field,type:"checkbox"},domProps:{checked:Array.isArray(t.currentHeaderCheckboxChecked)?t._i(t.currentHeaderCheckboxChecked,null)>-1:t.currentHeaderCheckboxChecked},on:{change:[function(e){var a=t.currentHeaderCheckboxChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.currentHeaderCheckboxChecked=a.concat([i])):o>-1&&(t.currentHeaderCheckboxChecked=a.slice(0,o).concat(a.slice(o+1)))}else t.currentHeaderCheckboxChecked=n},t.handleHeaderCheckboxSelect]}}),t._v(" "),a("label",{staticClass:"su-checkbox-label",attrs:{for:"header-"+e.field}},[t._m(1,!0)])]):t._e(),t._v(" "),e.sortArrow?a("span",{class:["arrow "+(e.arrowShowDefault?"arrow-show":"")+" arrow "+(void 0===e._sortOrder?"desc":e._sortOrder)]}):t._e()])}))],2)]):t._e(),t._v(" "),a("tbody",[t._l(t.limitTableData,(function(e,s){return a("tr",{key:t.uid&&e[t.uid]||s,class:[e._style,{focused:t.focus&&t.focusedRow&&e[t.uid]===t.focusedRow[t.uid]}],attrs:{"data-uid":t.uid&&e[t.uid]||s},on:{click:function(a){return t.handleRowClick(e,a)},mouseenter:function(a){return t.handleMouseEnter(e,a)},mouseleave:function(a){return t.handleMouseLeave(e,a)}}},[t.select&&t.uid?a("td",{staticClass:"select",on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[a("div",{staticClass:"su-checkbox-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUIDs[e[t.uid]],expression:"selectedUIDs[row[uid]]"}],staticClass:"su-checkbox",attrs:{id:e[t.uid],type:"checkbox",disabled:e.disableSelect},domProps:{checked:Array.isArray(t.selectedUIDs[e[t.uid]])?t._i(t.selectedUIDs[e[t.uid]],null)>-1:t.selectedUIDs[e[t.uid]]},on:{change:[function(a){var s=t.selectedUIDs[e[t.uid]],n=a.target,i=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.selectedUIDs,e[t.uid],s.concat([o])):r>-1&&t.$set(t.selectedUIDs,e[t.uid],s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.selectedUIDs,e[t.uid],i)},t.handleSelectRow]}}),t._v(" "),a("label",{staticClass:"su-checkbox-label",attrs:{for:e[t.uid]}},[t._m(2,!0)])])]):t._e(),t._v(" "),t._t("default",null,{row:e,index:s})],2)})),t._v(" "),t.currentLimit>-1&&t.data.length>t.limit?a("tr",{staticClass:"show-all-row"},[t.select&&t.uid?a("td"):t._e(),t._v(" "),a("td",{staticClass:"show-all-col",attrs:{colspan:t.tableHeaders.length}},[a("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.showAllRows.apply(null,arguments)}}},[t._v(t._s(t.showAllLabel)+" ("+t._s(t.data.length-t.currentLimit)+" remaining items)")])])]):t._e()],2),t._v(" "),a("tfoot",[t._t("footer")],2)]),t._v(" "),t.pages>1?a("ul",{staticClass:"pagination"},[t.prevText?a("li",{class:1===t.currentPageIndex?"disabled":"",on:{click:function(e){return e.stopPropagation(),t.goToPrev.apply(null,arguments)}}},[a("a",[t._v(t._s(t.prevText))])]):t._e(),t._v(" "),t._l(t.pages,(function(e,s){return a("li",{key:s,class:s===t.currentPageIndex-1?"selected":"unselected",on:{click:function(e){return e.stopPropagation(),t.selectPage(s)}}},[a("a",[t._v(t._s(e))])])})),t._v(" "),t.nextText?a("li",{class:t.currentPageIndex===t.pages?"disabled":"",on:{click:function(e){return e.stopPropagation(),t.goToNext.apply(null,arguments)}}},[a("a",[t._v(t._s(t.nextText))])]):t._e()],2):t._e()]):t._e()},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"su-checkbox-label",attrs:{for:"selectall"}},[a("span",{staticClass:"su-checkbox-box"},[a("span",{staticClass:"su-checkbox-tick"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"su-checkbox-box"},[a("span",{staticClass:"su-checkbox-tick"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"su-checkbox-box"},[a("span",{staticClass:"su-checkbox-tick"})])}],i=a("b047c"),o=a.n(i);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=c(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw i}}}}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var d={props:{perPage:Number,currentPage:Number,pagination:Boolean,nextText:String,prevText:String,data:{required:!0,type:Array,default:[]},headers:{type:Array,default:null},uid:{type:String,default:null},toolbar:{type:Boolean,default:!0},toolbarHeader:{type:Boolean,default:!1},toolbarHeaderText:{type:String,default:""},headerCheckbox:{type:Boolean,default:!1},headerCheckboxChecked:{type:Boolean,default:!0},downloadCsv:String||Boolean,sort:Boolean,tableBorder:Boolean,focus:Boolean,select:Boolean,selectAll:String,search:Boolean,searchFilterOnly:{type:Boolean,default:!0},searchPlaceHolder:{type:String,default:"Search table"},limit:{type:Number,default:-1},showAllLabel:{type:String,default:"Show all rows"},rowEvents:Boolean,rowClick:Function,rowEnter:Function,rowLeave:Function,rowKeyDown:Function},data:function(){return{currentSearchTerm:"",isSearchExpaned:!1,customSearchPlaceHolder:"Search",tableHeaders:[],tableData:[],selectedUIDs:{},selectAllValue:!1,isSelectAllIndeterminate:!1,currentHeaderCheckboxChecked:this.headerCheckboxChecked,currentLimit:this.limit,focusedRow:null,pages:0,currentPageIndex:this.currentPage}},created:function(){if(this.pagination){var t=this.perPage<1?1:this.perPage;this.pages=Math.ceil(Math.abs(this.data.length/t))}this.tableHeaders=this.$clone(this.headers),this.setData(this.data,this.currentLimit),this.currentSortedHeader=null,this.currentSearchFilterOnly=this.searchFilterOnly,this.searchableFields=this.tableHeaders.filter((function(t){return t.search})).map((function(t){return t.field}))},mounted:function(){this.focus&&this.$el.addEventListener("keydown",this.handleKeyDown)},beforeDestroy:function(){this.focus&&this.$el.removeEventListener("keydown",this.handleKeyDown),this.select&&(this.selectAllValue=!1,this.handleSelectAll({target:{checked:!1}}))},activated:function(){},deactivated:function(){this.select&&(this.selectAllValue=!1,this.handleSelectAll({target:{checked:!1}}))},watch:{data:function(t){this.setData(t,this.currentLimit)},headerCheckboxChecked:function(t){this.currentHeaderCheckboxChecked=t}},computed:{limitTableData:function(){if(this.pagination){var t=(this.currentPageIndex-1)*this.perPage,e=this.currentPageIndex*this.perPage-1;return this.tableData.filter((function(a,s){if(t<=s&&e>=s)return a}))}return this.tableData}},methods:{goToPrev:function(){this.currentPageIndex>1&&this.currentPageIndex--},goToNext:function(){this.currentPageIndex<this.pages&&this.currentPageIndex++},selectPage:function(t){var e=t+1;this.currentPageIndex=e},setData:function(t,e){var a=this;this.tableData=-1===e?this.$clone(t):this.$clone(t.slice(0,e)),this.currentSortedHeader&&this.doSort(this.currentSortedHeader,!0),this.currentSearchTerm&&this.doSearch(this.currentSearchFilterOnly);var s,n={},i=l(this.tableData);try{for(i.s();!(s=i.n()).done;){var o=s.value,r=this.uid&&o[this.uid];o.disableSelect?n[r]=!1:n[r]=this.selectedUIDs[r]}}catch(c){i.e(c)}finally{i.f()}this.selectedUIDs=n,this.$nextTick((function(){return a.emitSelectedEvent()}))},onClickOutside:function(){this.focusedRow=null},clearSerachTerm:function(){this.currentSearchTerm="",this.doSearch()},onSearchBlur:function(){var t=this;this.currentSearchTerm.length||this.$nextTick((function(){t.isSearchExpaned=!1,t.customSearchPlaceHolder="Search"}))},onSearchFocus:function(){var t=this;this.$nextTick((function(){t.isSearchExpaned=!0,t.customSearchPlaceHolder=t.searchPlaceHolder}))},doDebounceFilterSearch:o()((function(t){this.doSearch(this.currentSearchFilterOnly)}),200),doSearch:function(t){this.currentSearchFilterOnly=t;var e,a=l(this.tableData);try{for(a.s();!(e=a.n()).done;){var s=e.value,n=!1;if(this.currentSearchTerm.length>0){var i,o=l(this.searchableFields);try{for(o.s();!(i=o.n()).done;){var r=i.value,c=s[r].toString().toUpperCase();if(c&&-1!==c.indexOf(this.currentSearchTerm.toUpperCase())){n=!0;break}}}catch(u){o.e(u)}finally{o.f()}}else n=!0;s._style||this.$set(s,"_style",{}),this.$set(s,"_hide",!(n||t)),this.$set(s._style,"search-term-present",n),this.$set(s._style,"search-term-absent",!n)}}catch(u){a.e(u)}finally{a.f()}},doSort:function(t,e){e?t._sortOrder||(t._sortOrder="asc"):t._sortOrder="asc"===t._sortOrder?"desc":"asc",this.tableData.sort((function(e,a){var s=t.sortMethod&&t.sortMethod(e)||e[t.field],n=t.sortMethod&&t.sortMethod(a)||a[t.field];if("asc"===t._sortOrder){if(s<n)return-1;if(s>n)return 1}else{if(s>n)return-1;if(s<n)return 1}return 0}));var a,s=l(this.tableHeaders);try{for(s.s();!(a=s.n()).done;){var n=a.value;n._style={sortable:n.sort}}}catch(i){s.e(i)}finally{s.f()}t._style=r({sortable:!0,sorted:!0},t._sortOrder,!0),this.currentSortedHeader=t},handleSelectAll:function(t){var e,a=this,s={},n=l(this.tableData);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(!i.disableSelect){var o=this.uid&&i[this.uid];s[o]=t.target.checked}}}catch(r){n.e(r)}finally{n.f()}this.selectedUIDs=s,this.$nextTick((function(){return a.emitSelectedEvent()}))},handleSelectRow:function(t){var e=this;!t.target.checked&&this.selectAllValue&&(this.selectAllValue=!1),this.$nextTick((function(){return e.emitSelectedEvent()}))},handleHeaderCheckboxSelect:function(t){this.$emit("headerCheckboxSelect",t.target.checked),this.currentHeaderCheckboxChecked=t.target.checked},emitSelectedEvent:function(){if(this.rowEvents){var t,e=[],a=l(this.tableData);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.selectedUIDs[s[this.uid]]&&e.push(s)}}catch(n){a.e(n)}finally{a.f()}this.$emit("selected",e)}},showAllRows:function(){this.currentLimit=-1,this.setData(this.data,this.currentLimit)},handleRowClick:function(t,e){if(this.focusedRow=t,this.select&&!t.disableSelect){var a=this.uid&&t[this.uid];this.$set(this.selectedUIDs,a,!this.selectedUIDs[a]),this.emitSelectedEvent()}this.rowEvents&&this.$emit("rowClick",{row:t,event:e})},scrollToFocusedRow:function(){if(this.focusedRow){var t=this.$el.querySelector("tr[data-uid='"+this.focusedRow[this.uid]+"']");t&&t.scrollIntoView&&t.scrollIntoView(!1)}},handleKeyDown:function(t){var e=this;if(null!==this.focusedRow){if(t.preventDefault(),t.stopPropagation(),!this.select||13!==t.keyCode&&32!==t.keyCode||this.$set(this.selectedUIDs,this.focusedRow[this.uid],!this.selectedUIDs[this.focusedRow[this.uid]]),38===t.keyCode||40===t.keyCode)for(var a=0;a<this.tableData.length;a++){var s=this.tableData[a-1<0?this.tableData.length-1:a-1],n=this.tableData[a+1>this.tableData.length-1?0:a+1];if(this.focusedRow[this.uid]===this.tableData[a][this.uid]){if(38===t.keyCode){this.focusedRow=s,this.$nextTick((function(){return e.scrollToFocusedRow()}));break}if(40===t.keyCode){this.focusedRow=n,this.$nextTick((function(){return e.scrollToFocusedRow()}));break}}}this.rowEvents&&this.$emit("rowKeyDown",{row:this.focusedRow,event:t})}},handleMouseEnter:function(t,e){this.rowEvents&&this.$emit("rowEnter",{row:t,event:e})},handleMouseLeave:function(t,e){this.rowEvents&&this.$emit("rowLeave",{row:t,event:e})}}},h=d,p=a("2877"),m=Object(p["a"])(h,s,n,!1,null,null,null);e["a"]=m.exports},ffd6:function(t,e,a){var s=a("3729"),n=a("1310"),i="[object Symbol]";function o(t){return"symbol"==typeof t||n(t)&&s(t)==i}t.exports=o}}]);