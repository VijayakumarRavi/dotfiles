(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b92fe970"],{"11df":function(t,e,s){"use strict";var n=window.URL,a=window.Blob,i=window.Worker;function r(t){var e={};t.onmessage=function(s){switch(s.data.type){case"ping":t.postMessage({type:"pong"});break;case"set_timeout":e[s.data.id]=setTimeout((function(){t.postMessage({type:"tick",id:s.data.id})}),s.data.delay);break;case"clear_timeout":clearTimeout(e[s.data.id]);break;case"set_interval":e[s.data.id]=setInterval((function(){t.postMessage({type:"tick",id:s.data.id})}),s.data.interval);break;case"clear_interval":clearInterval(e[s.data.id]);break}}}function o(t){var e=this;this.__ww__=t,this.__timer_handlers__={},this.__ww__.onmessage=function(t){"tick"===t.data.type&&e.__timer_handlers__[t.data.id]()}}function l(){this.__timers__={}}o.prototype.setTimeout=function(t,e,s){this.__timer_handlers__[t]=e,this.__ww__.postMessage({type:"set_timeout",delay:s,id:t})},o.prototype.clearTimeout=function(t){this.__ww__.postMessage({type:"clear_timeout",id:t}),delete this.__timer_handlers__[t]},o.prototype.setInterval=function(t,e,s){this.__timer_handlers__[t]=e,this.__ww__.postMessage({type:"set_interval",interval:s,id:t})},o.prototype.clearInterval=function(t){this.__ww__.postMessage({type:"clear_interval",id:t}),delete this.__timer_handlers__[t]},l.prototype.setTimeout=function(t,e,s){this.__timers__[t]=setTimeout(e,s)},l.prototype.clearTimeout=function(t){clearInterval(this.__timers__[t])},l.prototype.setInterval=function(t,e,s){this.__timers__[t]=setInterval(e,s)},l.prototype.clearInterval=function(t){clearInterval(this.__timers__[t])};var c=null,_=[];function d(t){if(c)t(c);else if(_.push(t),1===_.length){var e,s,d;try{s=n.createObjectURL(new a(["("+r.toString()+")(this)"],{type:"text/javascript"})),d=new i(s)}catch(h){return u(),c=new l,void _.forEach((function(t){t(c)}))}d.onmessage=function(t){"pong"===t.data.type&&(clearInterval(e),c=new o(d),_.forEach((function(t){t(c)})))},e=setTimeout((function(){u(),c=new l,_.forEach((function(t){t(c)}))}),300),d.postMessage({type:"ping"})}function u(){s&&n.revokeObjectURL(s),d&&d.terminate(),e&&clearTimeout(e)}}var u=1;e.setTimeout=function(t,e){var s=u++;return d((function(n){n.setTimeout(s,t,e)})),s},e.clearTimeout=function(t){d((function(e){e.clearTimeout(t)}))},e.setInterval=function(t,e){var s=u++;return d((function(n){n.setInterval(s,t,e)})),s},e.clearInterval=function(t){d((function(e){e.clearInterval(t)}))}},"1a5a":function(t,e,s){"use strict";var n=s("d68e");function a(t){var e=this;this.__filters_in__=[],this.__filters_out__=[],this.__subscriptions__=[],this.__node_id__=Math.floor(1e10*Math.random())+1,this.__last_message_cnt__=0,this.__ignore_list__={},this.__router__=t.router,this.__router__.onmessage((function(t,s){e.__onmessage__(t,s)})),this.__lock_handlers__={},this.filterOut((function(t,s,n){if("!sys.lock.request"===t){var a=s.data.fn,i=s.data.id;delete s.data.fn,e.__lock_handlers__[s.id]=function(){a((function(){e.emit("!sys.lock.release",{id:i})}))}}n(t,s)})),this.filterIn((function(t,s,n){"!sys.lock.acquired"===t&&e.__lock_handlers__[s.data.request_id]&&(e.__lock_handlers__[s.data.request_id](),delete e.__lock_handlers__[s.data.request_id]),n(t,s)}))}a.prototype.emit=function(t,e,s){var a=this,i={id:this.__node_id__+"_"+this.__last_message_cnt__++,node_id:this.__node_id__,data:e};s||(this.__ignore_list__[i.id]=!0),n.asyncEach(this.__filters_out__,t,i,(function(t,e){a.__router__.broadcast(t,e)}))},a.prototype.on=function(t,e){return this.__subscriptions__.push({channel:t,handler:e}),this.emit("!sys.channels.add",{channel:t}),this},a.prototype.off=function(t,e){var s=this;this.__subscriptions__=this.__subscriptions__.reduce((function(n,a){return a.channel!==t||e&&e!==a.handler?(n.push(a),n):(s.emit("!sys.channels.remove",{channel:t}),n)}),[])},a.prototype.lock=function(t,e,s){s||(s=e,e=5e3),this.emit("!sys.lock.request",{id:t,timeout:e,fn:s})},a.prototype.filterIn=function(t){return this.__filters_in__.push(t),this},a.prototype.filterOut=function(t){return this.__filters_out__.push(t),this},a.prototype.__onmessage__=function(t,e){var s=this;n.asyncEach(this.__filters_in__,t,e,(function(t,e){s.__ignore_list__[e.id]||s.__subscriptions__.forEach((function(s){s.channel===t&&s.handler(e.data,t)}))}))},t.exports=a},2456:function(t,e,s){"use strict";var n,a={},i=function(){try{if(n=window.localStorage,!n)return!1;n.setItem("live_local_storage_is_writable_test",""),n.removeItem("live_local_storage_is_writable_test")}catch(t){return!1}return!(document.documentMode&&document.documentMode<9)&&!navigator.userAgent.match("CriOS")}();function r(){}Object.defineProperty(r.prototype,"length",{get:function(){return i?n.length:Object.keys(a).length}}),r.prototype.getItem=function(t){return i?n.getItem(t):a.hasOwnProperty(t)?a[t]:null},r.prototype.setItem=function(t,e){i?n.setItem(t,e):a[t]=e},r.prototype.removeItem=function(t){i?n.removeItem(t):a[t]=null},r.prototype.key=function(t){return i?n.key(t):Object.keys(a)[t]},t.exports=r},"29db":function(t,e,s){"use strict";var n=s("11df"),a=s("2456"),i=s("d68e"),r=4e3,o=r/4;function l(t){var e=this;t=t||{},this.__namespace__=t.namespace||"tabex_default_",this.__node_id__=Math.floor(1e10*Math.random())+1,this.__last_message_cnt__=0,this.__handlers__=[],this.__router_channels__={},this.__router_id_prefix__=this.__namespace__+"router_",this.__router_channels_prefix__=this.__namespace__+"subscribed_",this.__lock_prefix__=this.__namespace__+"lock_",this.__storage_events_filter__=[];for(var s=0;s<100;s++)this.__storage_events_filter__.push("");this.__ls__=new a,this.__master_id__=null,i.addEvent(window,"storage",(function(t){null!==t.key?"onstoragecommit"in document?setTimeout((function(){e.__on_changed__(t)}),1):e.__on_changed__(t):e.__check_master__()})),this.__destroyed__=!1,i.addEvent(window,"beforeunload",(function(){e.__destroy__()})),i.addEvent(window,"unload",(function(){e.__destroy__()})),this.__check_master__(),this.__timer_cm__=n.setInterval((function(){e.__check_master__()}),o),this.__timer_lc__=n.setInterval((function(){e.__locks_cleanup__()}),1e3)}l.prototype.broadcast=function(t,e){if("!sys.channels.add"===t)return this.__router_channels__[e.data.channel]=this.__router_channels__[e.data.channel]||0,this.__router_channels__[e.data.channel]++,void this.__update_channels_list__();if("!sys.channels.remove"===t)return this.__router_channels__[e.data.channel]=this.__router_channels__[e.data.channel]||0,this.__router_channels__[e.data.channel]--,void this.__update_channels_list__();if("!sys.lock.request"!==t)if("!sys.lock.release"!==t){var s=JSON.stringify({channel:t,message:e,random:Math.floor(1e10*Math.random())});this.__storage_events_filter__.shift(),this.__storage_events_filter__.push(this.__namespace__+"broadcast_"+s),this.__ls__.setItem(this.__namespace__+"broadcast",s),this.__handlers__.forEach((function(s){s(t,e)}))}else this.__ls__.removeItem(this.__lock_prefix__+e.data.id);else this.__lock__(e.data.id,e.id,e.data.timeout)},l.prototype.onmessage=function(t){var e=this;this.__handlers__.push(t),setTimeout((function(){t("!sys.master",{data:{node_id:e.__node_id__,master_id:e.__master_id__},node_id:e.__node_id__,id:e.__node_id__+"_"+e.__last_message_cnt__++}),e.__on_channels_list_changed__()}),0)},l.prototype.__lock__=function(t,e,s){var n=this,a=this.__lock_prefix__+t,i=this.__ls__.getItem(a);if(i)try{i=JSON.parse(i)}catch(r){i=null}i&&i.expire>Date.now()||(this.__ls__.setItem(a,JSON.stringify({expire:s+Date.now(),requestId:e})),setTimeout((function(){if(i=n.__ls__.getItem(a),i)try{i=JSON.parse(i)}catch(r){i=null}i&&i.requestId===e&&n.__handlers__.forEach((function(t){t("!sys.lock.acquired",{data:{request_id:e},node_id:n.__node_id__,id:n.__node_id__+"_"+n.__last_message_cnt__++})}))}),30))},l.prototype.__locks_cleanup__=function(){for(var t,e,s=0;s<this.__ls__.length;s++)if(t=this.__ls__.key(s),0===t.indexOf(this.__lock_prefix__)){e=this.__ls__.getItem(t);try{e=JSON.parse(e)}catch(n){e=null}(!e||e.expire<Date.now())&&this.__ls__.removeItem(t)}},l.prototype.__on_master_changed__=function(t){var e=this;t?(this.__master_id__=+t,this.__handlers__.forEach((function(t){t("!sys.master",{data:{node_id:e.__node_id__,master_id:e.__master_id__},node_id:e.__node_id__,id:e.__node_id__+"_"+e.__last_message_cnt__++})})),e.__update_channels_list__(!0),e.__on_channels_list_changed__()):this.__get_alive_router_ids__().sort()[0]===this.__node_id__&&(this.__storage_events_filter__.pop(),this.__storage_events_filter__.push(this.__namespace__+"master_"+this.__node_id__),this.__ls__.setItem(this.__namespace__+"master",this.__node_id__),this.__on_master_changed__(this.__node_id__))},l.prototype.__on_changed__=function(t){if(-1===this.__storage_events_filter__.indexOf(t.key+"_"+t.newValue)&&(t.key===this.__namespace__+"master"&&this.__on_master_changed__(t.newValue),0===t.key.indexOf(this.__router_channels_prefix__)&&this.__on_channels_list_changed__(),t.key===this.__namespace__+"broadcast")){var e=JSON.parse(t.newValue);this.__handlers__.forEach((function(t){t(e.channel,e.message)}))}},l.prototype.__destroy__=function(){this.__destroyed__||(this.__destroyed__=!0,n.clearInterval(this.__timer_cm__),n.clearInterval(this.__timer_lc__),this.__ls__.removeItem(this.__router_id_prefix__+this.__node_id__),this.__ls__.removeItem(this.__router_channels_prefix__+this.__node_id__),this.__master_id__===this.__node_id__&&this.__ls__.removeItem(this.__namespace__+"master"))},l.prototype.__get_alive_router_ids__=function(){for(var t,e,s=Date.now()-r,n=[],a=0;a<this.__ls__.length;a++)e=this.__ls__.key(a),0===e.indexOf(this.__router_id_prefix__)&&(t=+e.substr(this.__router_id_prefix__.length),this.__ls__.getItem(e)<s?(this.__ls__.removeItem(e),this.__ls__.removeItem(this.__router_channels_prefix__+t)):n.push(t));return n},l.prototype.__update_channels_list__=function(t){var e=this,s=[];Object.keys(this.__router_channels__).forEach((function(t){e.__router_channels__[t]>0&&s.push(t)}));var n=JSON.stringify(s.sort());this.__ls__.getItem(this.__router_channels_prefix__+this.__node_id__)!==n&&(this.__storage_events_filter__.pop(),this.__storage_events_filter__.push(this.__router_channels_prefix__+this.__node_id__+"_"+n),this.__ls__.setItem(this.__router_channels_prefix__+this.__node_id__,n),t||this.__on_channels_list_changed__())},l.prototype.__on_channels_list_changed__=function(){for(var t,e=this,s=[],n=0;n<this.__ls__.length;n++)t=this.__ls__.key(n),0===t.indexOf(this.__router_channels_prefix__)&&(s=s.concat(JSON.parse(this.__ls__.getItem(t))));s=s.reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),[]),this.__handlers__.forEach((function(t){t("!sys.channels.refresh",{id:e.__node_id__+"_"+e.__last_message_cnt__++,node_id:e.__node_id__,data:{channels:s}})}))},l.prototype.__check_master__=function(){this.__ls__.setItem(this.__router_id_prefix__+this.__node_id__,Date.now()),this.__master_id__=+this.__ls__.getItem(this.__namespace__+"master"),-1===this.__get_alive_router_ids__().indexOf(this.__master_id__)&&(this.__storage_events_filter__.pop(),this.__storage_events_filter__.push(this.__namespace__+"master_"+this.__node_id__),this.__ls__.setItem(this.__namespace__+"master",this.__node_id__),this.__on_master_changed__(this.__node_id__))},t.exports=l},"3dfd":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"},on:{click:function(e){t.hideUserMenu(e),t.hidePortfolioMenu(e),t.hideReportsMenu(e),t.hideFundsMenu(e)}}},[s("div",{staticClass:"header"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header-right"},[t.isMobileWebview?s("a",{staticClass:"logo"},[s("img",{attrs:{src:"/static/images/logo.svg"}})]):s("a",{staticClass:"logo",attrs:{href:"/dashboard"}},[s("img",{attrs:{src:"/static/images/logo.svg"}})]),t._v(" "),t.isMobileWebview?t._e():s("a",{staticClass:"toggle-mobile-menu",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleBurger()}}},[t._m(0)]),t._v(" "),s("transition",{attrs:{name:"dropdown"}},[t.showBurger?s("div",{staticClass:"mobile-menu-drop show-on-mobile"},[s("div",{staticClass:"mobile-profile-card"},[s("a",{attrs:{href:"/account"}},[s("su-avatar",{staticClass:"profile-avatar",attrs:{username:t.user_name,src:t.avatar,size:50}}),t._v(" "),s("div",{staticClass:"mobile-profile-details"},[s("h2",{staticClass:"username"},[t._v(t._s(t._f("capitalize")(t.user_name)))]),t._v(" "),s("span",{attrs:{id:"userDetails",name:t.user_shortname}},[t._v(t._s(t.client_id))])])],1)]),t._v(" "),s("router-link",{attrs:{to:"/account"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",{staticClass:"icon icon-user"}),t._v(" "),s("span",[t._v("My account")])]),t._v(" "),s("router-link",{attrs:{to:"/dashboard"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",{staticClass:"icon icon-compass"}),t._v(" "),s("span",[t._v("Dashboard")])]),t._v(" "),s("div",{staticClass:"nav-accordion-label",attrs:{id:"mobile_portfolio_label"},on:{click:function(e){return t.expandMobileMenu("portfolio")}}},[s("div",[s("span",{staticClass:"icon icon-briefcase"}),t._v("\n\t\t\t\t\t\t\tPortfolio\n\t\t\t\t\t\t\t"),s("span",{staticClass:"icon icon-chevron-right"}),t._v(" "),s("span",{staticClass:"icon icon-chevron-down"})]),t._v(" "),s("div",{staticClass:"nav-accordion-content portfolio-menu-content"},[s("router-link",{attrs:{to:"/portfolio/positions"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Positions")]),t._v(" "),t.status.positions_count>0?s("span",{staticClass:"portfolio-count"},[t._v(t._s(t.status.positions_count))]):t._e()]),t._v(" "),s("router-link",{attrs:{to:"/portfolio/holdings"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Holdings")]),t._v(" "),t.status.eq_holdings_count>0?s("span",{staticClass:"portfolio-count"},[t._v(t._s(t.status.eq_holdings_count))]):t._e()]),t._v(" "),s("router-link",{attrs:{to:"/portfolio/ipo"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("IPOs")])]),t._v(" "),s("router-link",{attrs:{to:"/portfolio/corporate-action-order-window"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Corporate actions")])]),t._v(" "),s("router-link",{attrs:{to:"/portfolio/tags"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Tags")])])],1)]),t._v(" "),s("div",{staticClass:"nav-accordion-label",attrs:{id:"mobile_reports_label"},on:{click:function(e){return t.expandMobileMenu("reports")}}},[s("div",[s("span",{staticClass:"icon icon-book"}),t._v("\n\t\t\t\t\t\t\tReports\n\t\t\t\t\t\t\t"),s("span",{staticClass:"icon icon-chevron-right"}),t._v(" "),s("span",{staticClass:"icon icon-chevron-down"})]),t._v(" "),s("div",{staticClass:"nav-accordion-content reports-menu-content"},[s("router-link",{attrs:{to:"/reports/tradebook"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Tradebook")])]),t._v(" "),s("router-link",{attrs:{to:"/reports/pnl"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("P&L")])]),t._v(" "),s("router-link",{attrs:{to:"/reports/taxpnl"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Tax P&L")])]),t._v(" "),s("router-link",{attrs:{to:"/reports/tax-loss-harvesting"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Tax-loss harvesting")])]),t._v(" "),s("router-link",{attrs:{to:"/sixty-day-challenge"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("60 day challenge")])]),t._v(" "),s("router-link",{attrs:{to:"/reports/downloads"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Downloads")])])],1)]),t._v(" "),s("div",{staticClass:"nav-accordion-label",attrs:{id:"mobile_funds_label"},on:{click:function(e){return t.expandMobileMenu("funds")}}},[s("div",[s("span",{staticClass:"icon icon-credit-card"}),t._v("\n\t\t\t\t\t\t\tFunds\n\t\t\t\t\t\t\t"),s("span",{staticClass:"icon icon-chevron-right"}),t._v(" "),s("span",{staticClass:"icon icon-chevron-down"})]),t._v(" "),s("div",{staticClass:"nav-accordion-content funds-menu-content"},[s("router-link",{attrs:{to:"/funds/overview"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Withdrawal")])]),t._v(" "),s("router-link",{attrs:{to:"/funds/statement"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Statement")])]),t._v(" "),s("router-link",{attrs:{to:"/funds/interest-statement"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Interest statement")])]),t._v(" "),s("router-link",{attrs:{to:"/funds/mandates"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("span",[t._v("Bank mandates")])])],1)]),t._v(" "),s("router-link",{attrs:{to:"/refer"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("img",{staticClass:"refer-link-img",attrs:{src:"/static/images/refer-grey.svg"}}),t._v(" "),s("span",[t._v("Rewards & referrals")])]),t._v(" "),s("router-link",{staticClass:"mobile-refer-label",attrs:{to:"/gift"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("img",{staticClass:"refer-link-img",attrs:{src:"/static/images/gift-grey.svg"}}),t._v(" "),s("span",[t._v("Gift stocks")])]),t._v(" "),t.isMobileWebview?t._e():s("div",{staticClass:"mobile-menu-footer"},[s("a",{attrs:{rel:"noopener noreferrer",href:"https://support.zerodha.com/category/console/"}},[s("span",{staticClass:"icon icon-life-buoy"}),t._v(" Support")]),s("a",{attrs:{target:"_self",href:"/logout"}},[s("span",{staticClass:"icon icon-exit"}),t._v(" Logout")])])],1):t._e()]),t._v(" "),s("div",{staticClass:"app-nav hide-on-mobile"},[s("router-link",{attrs:{to:"/dashboard"}},[s("span",[t._v("Dashboard")])]),t._v(" "),s("a",{staticClass:"dropdown-label portfolio-label",class:t.portfolioMenuClass,attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.togglePortfolioMenu.apply(null,arguments)}}},[s("span",{staticClass:"portfolio-id"},[t._v("Portfolio")])]),t._v(" "),t.isPortfolioMenu?s("div",{staticClass:"dropdown-nav portfolio-dropdown",on:{click:function(e){return t.hidePortfolioMenu(e)}}},[s("div",{staticClass:"triangle",attrs:{id:"portfolio_triangle"}}),t._v(" "),s("ul",{staticClass:"list-flat dropdown-nav-list"},[s("li",[s("router-link",{attrs:{to:"/portfolio/positions"}},[t.status.positions_count>0?s("span",[t._v("Positions ("+t._s(t.status.positions_count)+")")]):s("span",[t._v("Positions")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/portfolio/holdings"}},[t.status.eq_holdings_count>0?s("span",[t._v("Holdings ("+t._s(t.status.eq_holdings_count)+")")]):s("span",[t._v("Holdings")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/portfolio/ipo"}},[s("span",[t._v("IPOs")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/portfolio/corporate-action-order-window"}},[s("span",[t._v("Corporate actions")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/portfolio/tags"}},[s("span",[t._v("Tags")])])],1)])]):t._e(),t._v(" "),s("a",{staticClass:"dropdown-label reports-label",class:t.reportsMenuClass,attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleReportsMenu.apply(null,arguments)}}},[s("span",{staticClass:"reports-id"},[t._v("Reports")])]),t._v(" "),t.isReportsMenu?s("div",{staticClass:"dropdown-nav reports-dropdown",on:{click:function(e){return t.hideReportsMenu(e)}}},[s("div",{staticClass:"triangle",attrs:{id:"reports_triangle"}}),t._v(" "),s("ul",{staticClass:"list-flat dropdown-nav-list"},[s("li",[s("router-link",{attrs:{to:"/reports/tradebook"}},[s("span",[t._v("Tradebook")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/reports/pnl"}},[s("span",[t._v("P&L")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/reports/taxpnl"}},[s("span",[t._v("Tax P&L")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/reports/tax-loss-harvesting"}},[s("span",[t._v("Tax-loss harvesting")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/sixty-day-challenge"}},[s("span",[t._v("60 day challenge")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/reports/downloads"}},[s("span",[t._v("Downloads")])])],1)])]):t._e(),t._v(" "),s("a",{staticClass:"dropdown-label funds-label",class:t.fundsMenuClass,attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleFundsMenu.apply(null,arguments)}}},[s("span",{staticClass:"funds-id"},[t._v("Funds")])]),t._v(" "),t.isFundsMenu?s("div",{staticClass:"dropdown-nav funds-dropdown",on:{click:function(e){return t.hideFundsMenu(e)}}},[s("div",{staticClass:"triangle",attrs:{id:"funds_triangle"}}),t._v(" "),s("ul",{staticClass:"list-flat dropdown-nav-list"},[s("li",[s("router-link",{attrs:{to:"/funds/overview"}},[s("span",[t._v("Withdrawal")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/funds/statement"}},[s("span",[t._v("Statement")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/funds/interest-statement"}},[s("span",[t._v("Interest statement")])])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/funds/mandates"}},[s("span",[t._v("Bank mandates")])])],1)])]):t._e(),t._v(" "),s("router-link",{attrs:{to:"/account"}},[s("span",[t._v("Account")])])],1),t._v(" "),s("div",{staticClass:"right-nav hide-on-mobile"},[s("div",{staticClass:"user-nav perspective"},[s("a",{staticClass:"dropdown-label user-id",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleUserMenu.apply(null,arguments)}}},[s("su-avatar",{staticClass:"profile-avatar",attrs:{username:t.user_name,src:t.avatar,size:25}}),t._v(" "),s("span",{attrs:{id:"userDetails",name:t.user_shortname}},[t._v(t._s(t.client_id))])],1),t._v(" "),t.isUserMenu?s("div",{staticClass:"dropdown-nav",on:{click:function(e){return t.hideUserMenu(e)}}},[s("div",{staticClass:"triangle"}),t._v(" "),s("div",{staticClass:"dropdown-nav-header"},[s("router-link",{attrs:{to:"/account"}},[s("h4",{staticClass:"username"},[t._v(t._s(t._f("capitalize")(t.user_name)))])])],1),t._v(" "),s("hr"),t._v(" "),s("ul",{staticClass:"list-flat dropdown-nav-list"},[s("li",[s("router-link",{attrs:{to:"/account"}},[s("span",{staticClass:"icon icon-user"}),t._v(" My account\n\t\t\t\t\t\t\t\t")])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{attrs:{to:"/refer"}},[s("img",{staticClass:"refer-link-img",attrs:{src:"/static/images/refer.svg"}}),t._v(" Rewards & referrals\n\t\t\t\t\t\t\t\t")])],1),t._v(" "),s("hr"),t._v(" "),s("li",[s("router-link",{staticClass:"mobile-refer-label",attrs:{to:"/gift"},nativeOn:{click:function(e){return t.linkClicked()}}},[s("img",{staticClass:"refer-link-img",attrs:{src:"/static/images/gift.svg"}}),t._v(" Gift stocks\n\t\t\t\t\t\t\t\t")])],1),t._v(" "),s("hr"),t._v(" "),t._m(1),t._v(" "),s("hr"),t._v(" "),s("li",[s("a",{attrs:{target:"_self",href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout.apply(null,arguments)}}},[s("span",{staticClass:"icon icon-exit"}),t._v(" Logout")])])])]):t._e()])])],1)])]),t._v(" "),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"page-content"},[s("router-view")],1)]),t._v(" "),t.showZerodhaCapitalFooter?t._e():s("div",{staticClass:"footer"},[t._m(2)]),t._v(" "),t.showZerodhaCapitalFooter?s("div",{staticClass:"footer"},[t._m(3)]):t._e()])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"nav-icon4"}},[s("span"),t._v(" "),s("span"),t._v(" "),s("span")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"https://support.zerodha.com/category/console/",target:"_blank"}},[s("span",{staticClass:"icon icon-help-circle"}),t._v(" Support")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer-section"},[s("div",{staticClass:"footer-container"},[s("div",{staticClass:"row text-grey"},[s("div",{staticClass:"six columns nomargin-mobile"},[s("a",{attrs:{href:"https://zerodha.com"}},[s("img",{attrs:{src:"/static/images/zerodha-grey-logo.svg"}})]),t._v(" "),s("span",{staticClass:"text-light-grey"},[t._v("© 2021. All rights reserved.")])]),t._v(" "),s("div",{staticClass:"nomargin-mobile six columns text-right"},[s("a",{staticClass:"text-light-grey hide-on-mobile",attrs:{target:"_blank",href:"https://support.zerodha.com"}},[t._v("Support")])])]),t._v(" "),s("p",{staticClass:"text-light-grey hide-on-mobile"},[t._v("NSE​ &​ BSE – SEBI Registration no.: INZ000031633 | MCX - SEBI Registration no.: INZ000038238 | CDSL - SEBI Registration no.: IN-DP-431-2019")]),t._v(" "),s("p",{staticClass:"text-light-grey hide-on-mobile"},[t._v("Disclaimer: The P&L report/Holdings/Positions data is prepared based on the trades and information available with us, at the time of report generation. Zerodha Broking Ltd., does not make any warranty, express or implied, or assume any legal/consequential liability, or responsibility for the authenticity, and completeness of the data presented in this report/data. To double check your P&L report/Holdings/Positions data, verify it with the Tradebook, Contract Notes and the Funds Statement which are available with you at all times.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer-section"},[s("div",{staticClass:"footer-container"},[s("div",{staticClass:"row text-grey"},[s("div",{staticClass:"six columns nomargin-mobile"},[s("a",{attrs:{href:"https://zerodha.com"}},[s("img",{attrs:{src:"/static/images/zerodha-grey-logo.svg"}})]),t._v(" "),s("span",{staticClass:"text-light-grey"},[t._v("© 2021 Zerodha Capital Private Ltd. All rights reserved. RBI Reg. No. N-02.00283")])]),t._v(" "),s("div",{staticClass:"nomargin-mobile six columns text-right"},[s("a",{staticClass:"text-light-grey hide-on-mobile",attrs:{target:"_blank",href:"https://support.zerodha.com"}},[t._v("Support")])])]),t._v(" "),s("p",{staticClass:"hide-on-mobile"},[s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/terms-and-conditions",target:"_blank"}},[t._v("Terms & Conditions")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/privacy-policy",target:"_blank"}},[t._v("Privacy Policy")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/fair-practices-code",target:"_blank"}},[t._v("Fair Practice Code")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/interest-rate-policy",target:"_blank"}},[t._v("Interest Rate Policy")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/demand-call-loan-policy",target:"_blank"}},[t._v("Demand and Call Loan Policy")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/approved-list",target:"_blank"}},[t._v("List of approved securities")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/grievance-redressal",target:"_blank"}},[t._v("Grievance Redressal")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/ombudsman-scheme",target:"_blank"}},[t._v("Ombudsman Scheme")])]),t._v(" |\n\t\t\t\t\t"),s("span",[s("a",{staticClass:"text-light-grey",attrs:{href:"https://zerodhacapital.com/tos/faq",target:"_blank"}},[t._v("FAQs")])])])])])}],i=s("a026"),r=s("c0d6"),o=s("2f62");function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function t(){l(this,t)};function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}c.install=function(t,e){};var d=function t(){_(this,t)};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}d.install=function(t,e){};var h=function t(){u(this,t)};function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}h.install=function(t,e){};var f=function t(){p(this,t)};function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}f.install=function(t,e){};var v=function t(){m(this,t)};function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}v.install=function(t,e){};var y=function t(){g(this,t)};function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}y.install=function(t,e){};var C=function t(){b(this,t)};function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}C.install=function(t,e){};var E=function t(){w(this,t)};E.install=function(t,e){};var k=s("e9dd"),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t\t\t\t\t\t")])])])])])])},T=[],I=s("2877"),M={},S=Object(I["a"])(M,x,T,!1,null,null,null),O=S.exports;function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $=function t(){P(this,t)};function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}$.install=function(t,e){t.component("discrepant",k["default"]),t.component("modal",O)};var L=function t(){D(this,t)};function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}L.install=function(t,e){};var R=function t(){N(this,t)};function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}R.install=function(t,e){};var F=function t(){B(this,t)};function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}F.install=function(t,e){};var A=function t(){U(this,t)};function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}A.install=function(t,e){};var j=function t(){q(this,t)};function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}j.install=function(t,e){};var G=function t(){H(this,t)};G.install=function(t,e){};var Q=s("1bef"),z=s("1552");function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var W=function t(){J(this,t)};W.install=function(t,e){t.component("sendGift",z["default"]),t.component("acceptGift",Q["default"])};var Y=s("d1df"),V=s("1fa4"),Z=s("d796"),K=s("19d1"),X=s("d361"),tt=s("2f37"),et=s("ee54"),st=s("685f");function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var at=function t(){nt(this,t)};function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}at.install=function(t,e){t.component("fatca",V["a"]),t.component("fatcacorrection",Z["default"]),t.component("loansdashboard",Y["default"]),t.component("loaninvite",K["default"]),t.component("statement",X["default"]),t.component("pledgehistory",tt["default"]),t.component("offers",et["a"]),t.component("kyc",st["default"])};var rt=function t(){it(this,t)};function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}rt.install=function(t,e){};var lt=function t(){ot(this,t)};function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}lt.install=function(t,e){};var _t=function t(){ct(this,t)};_t.install=function(t,e){};var dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{class:t.customClass,attrs:{to:t.to,event:""},nativeOn:{click:function(e){return e.preventDefault(),t.handle.apply(null,arguments)}}},[t._t("default")],2)},ut=[];function ht(t){return ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}var pt={name:"custom-router-link",props:{to:{type:[String,Object],required:!0}},data:function(){return{customClass:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.setClass()}))},methods:{handle:function(){var t,e;"object"===ht(this.to)?(t=this.to.name,e=this.$route.name):(t=this.to,e=this.$route.path),t===e?(document.querySelector(".page-container").classList.add("bounce"),setTimeout((function(){document.querySelector(".page-container").className="page-container profile"}),305)):this.$router.push(this.to)},setClass:function(){}}},ft=pt,mt=Object(I["a"])(ft,dt,ut,!1,null,null,null),vt=mt.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[s("h1",[t._v("Switch user")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row section"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.client_id,expression:"client_id"}],attrs:{type:"text",id:"client_id"},domProps:{value:t.client_id},on:{input:function(e){e.target.composing||(t.client_id=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn-red",on:{click:function(e){return t.switchUser()}}},[t._v("Submit")])])])},yt=[],bt=s("bc3a"),Ct=s.n(bt),wt=Ct.a.create({timeout:1e4,responseType:"json"}),Et={data:function(){return{client_id:""}},methods:{switchUser:function(){this.client_id.length>0&&wt.post("/qadmin/switch-user/",{user_id:this.client_id}).then((function(t){"success"===t.data.message?location.href="/dashboard":console.log("Error redirecting to dashboard.")})).catch((function(t){console.log("Error switching user: ",t)}))}}},kt=Et,xt=Object(I["a"])(kt,gt,yt,!1,null,null,null),Tt=xt.exports;function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Mt=function t(){It(this,t)};Mt.install=function(t,e){t.component("adminswitch",Tt)};var St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",t._l(t.columns,(function(e,n){return s("th",{key:n,class:{active:t.sortKey==e},on:{click:function(s){return t.sortBy(e)}}},[t._v("\n\t\t\t\t"+t._s(e)+"\n\t\t\t\t"),s("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])})),0)]),t._v(" "),s("tbody",t._l(t.filteredData,(function(e,n){return s("tr",{key:n},t._l(t.columns,(function(n,a){return s("td",{key:a},[t._v("\n\t\t\t"+t._s(e[n])+"\n\t\t\t")])})),0)})),0)])},Ot=[],Pt={props:{data:Array,columns:Array},data:function(){var t={};return this.columns.forEach((function(e){t[e]=1})),{sortKey:"",sortOrders:t}},computed:{filteredData:function(){var t=this.sortKey,e=this.sortOrders[t]||1,s=this.data;return t&&(s=s.slice().sort((function(s,n){return s=s[t],n=n[t],(s===n?0:s>n?1:-1)*e}))),s}},methods:{sortBy:function(t){this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t]}}},$t=Pt,Dt=Object(I["a"])($t,St,Ot,!1,null,null,null),Lt=Dt.exports;function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Rt=function t(){Nt(this,t)};Rt.install=function(t,e){t.component("data-table",Lt)};var Bt=s("b047c"),Ft=s.n(Bt),Ut=s("b23e"),At=s.n(Ut),qt=s("ba6a"),jt=s("5665"),Ht=s("1a6c");function Gt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function Qt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(s),!0).forEach((function(e){zt(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Gt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function zt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Jt(t){return Jt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}var Wt=At.a.client();function Yt(t){var e=null;if(document.cookie&&""!==document.cookie)for(var s=document.cookie.split(";"),n=0;n<s.length;n++){var a=s[n].trim();if(a.substring(0,t.length+1)===t+"="){e=decodeURIComponent(a.substring(t.length+1));break}}return e}function Vt(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}i["a"].use(Rt,{store:r["a"]}),i["a"].use(c,{store:r["a"]}),i["a"].use(d,{store:r["a"]}),i["a"].use(h,{store:r["a"]}),i["a"].use(f,{store:r["a"]}),i["a"].use(v,{store:r["a"]}),i["a"].use(y,{store:r["a"]}),i["a"].use(C,{store:r["a"]}),i["a"].use(E,{store:r["a"]}),i["a"].use($,{store:r["a"]}),i["a"].use(L,{store:r["a"]}),i["a"].use(R,{store:r["a"]}),i["a"].use(F,{store:r["a"]}),i["a"].use(G,{store:r["a"]}),i["a"].use(W,{store:r["a"]}),i["a"].use(A,{store:r["a"]}),i["a"].use(j,{store:r["a"]}),i["a"].use(at,{store:r["a"]}),i["a"].use(rt,{store:r["a"]}),i["a"].use(lt,{store:r["a"]}),i["a"].use(_t,{store:r["a"]}),i["a"].use(Mt,{store:r["a"]}),i["a"].use(Ht["a"]);var Zt={name:"app",components:{"custom-router-link":vt},watch:{$route:function(t,e){t.meta.title&&(this.setPageTitle(t.meta.title),this.setFooter(t.meta.title))}},data:function(){return{client_id:"",user_name:"",user_shortname:"",avatar:"",status:[],isUserMenu:!1,isLoansMenu:!1,isPortfolioMenu:!1,isReportsMenu:!1,isFundsMenu:!1,initFetch:!1,showBurger:!1,isMobile:!1,analyticsEvent:!1,showZerodhaCapitalFooter:!1,isMobileWebview:!1}},created:function(){this.setCSRF(Yt("public_token")),window.addEventListener("resize",this.handleResize),this.handleResize(),this.$route.meta.title&&(this.setPageTitle(this.$route.meta.title),this.setFooter(this.$route.meta.title)),this.getStatus(),this.getSegmentStatus()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},mounted:function(){var t=this.$route.query;"object"===Jt(t)&&0!==Object.keys(t).length&&t.hasOwnProperty("src")&&("kitemobile"===t.src?this.isMobile=!0:"kitewebview"===t.src&&(this.isMobileWebview=!0)),Wt.on("channel",(function(t){"logout"===t&&(window.location.href="/logout")}));for(var e=document.getElementsByClassName("nav-accordion-label"),s=0;s<e.length;s++)e[s].addEventListener("click",(function(){this.classList.toggle("active");var t=this.nextElementSibling;"block"===t.style.display?t.style.display="none":t.style.display="block"}));document.addEventListener("scroll",this.analytics)},computed:{portfolioMenuClass:function(){if("holdings"===this.$route.name||"positions"===this.$route.name||"discrepant"===this.$route.name||"corporateAction"===this.$route.name||"ipo"===this.$route.name||"tags"===this.$route.name)return"router-link-active"},reportsMenuClass:function(){if("tradebook"===this.$route.name||"pnl"===this.$route.name||"taxpnl"===this.$route.name||"challenge"===this.$route.name||"downloads"===this.$route.name||"taxloss"===this.$route.name)return"router-link-active"},fundsMenuClass:function(){if("funds"===this.$route.name||"ledger"===this.$route.name||"interest"===this.$route.name||"enach"===this.$route.name)return"router-link-active"}},methods:Qt(Qt({},Object(o["d"])(["setMobileView","setActiveSegments","setPNLStatus","setSegmentList","setSlb","setClientID","setCSRF","setUserDetails"])),{},{setFooter:function(t){var e=["Loans dashboard","Loans statement","Loans fatca correction","Loans pledge history","Loans kyc"];this.showZerodhaCapitalFooter=-1!==e.indexOf(t)},analytics:function(){var t=document.getElementsByClassName("chart-inner-container");!this.analyticsEvent&&gtag&&t.length&&Vt(t[0])&&(gtag("event","account_value_curve"),this.analyticsEvent=!0)},handleResize:Ft()((function(){window.innerWidth<801?this.setMobileView(!0):window.innerWidth>800&&this.setMobileView(!1)}),50),linkClicked:function(){document.getElementById("nav-icon4").classList.toggle("open"),this.showBurger=!this.showBurger,document.getElementsByTagName("body")[0].style.overflowY="scroll"},getStatus:function(){var t=this;this.initFetch=!0,qt["a"].request("GET",!1,jt["a"].getStatus,null,(function(e,s){t.initFetch=!1,"SUCCESS"===e.toUpperCase()?(t.status=s.data.data.result,t.user_name=t.status.user_name,t.client_id=t.status.user_id,t.user_email=t.status.email,t.avatar=t.status.avatar_url,t.user_shortname=t.status.user_shortname.replace(/ .*/,""),t.setPNLStatus(t.status.pnl_last_run_status),t.setClientID(t.client_id),t.setUserDetails(t.status)):"FAILURE"===e.toUpperCase()?t.$toast.error({message:"Error fetching status: "+s.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}):t.$toast.error({message:"Error fetching status:"+qt["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3})}))},getSegmentStatus:function(){var t=this;qt["a"].request("GET",!1,jt["a"].getSegmentStatus,null,(function(e,s){if("SUCCESS"===e.toUpperCase()){var n=[];"ACTIVATED"!==s.data.data.result.nse_eq_status.toUpperCase()&&"ACTIVATED"!==s.data.data.result.bse_fo_status.toUpperCase()&&"ACTIVATED"!==s.data.data.result.nse_fo_status.toUpperCase()||n.push("EQ"),"ACTIVATED"===s.data.data.result.mcx_status.toUpperCase()&&n.push("COM"),t.setActiveSegments(n),t.setSegmentList(s.data.data.result),t.setSlb({nse_slb_status:s.data.data.result.nse_slb_status,bse_slb_status:s.data.data.result.bse_slb_status})}else"FAILURE"===e.toUpperCase()?t.$toast.error({message:"Error fetching segment status: "+s.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}):t.$toast.error({message:"Error fetching segment status:"+qt["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3})}))},toggleUserMenu:function(){this.isLoansMenu=!1,this.isUserMenu=!this.isUserMenu,this.isPortfolioMenu=!1,this.isReportsMenu=!1,this.isFundsMenu=!1,document.getElementsByClassName("portfolio-label")[0].classList.remove("no-border"),document.getElementsByClassName("reports-label")[0].classList.remove("no-border"),document.getElementsByClassName("funds-label")[0].classList.remove("no-border")},hideUserMenu:function(t){this.isUserMenu=!1,document.getElementsByClassName("portfolio-label")[0].classList.remove("no-border"),document.getElementsByClassName("reports-label")[0].classList.remove("no-border"),document.getElementsByClassName("funds-label")[0].classList.remove("no-border")},toggleLoansMenu:function(){this.isLoansMenu=!this.isLoansMenu,this.isPortfolioMenu=!1,this.isUserMenu=!1,this.isReportsMenu=!1,this.isFundsMenu=!1,document.getElementsByClassName("portfolio-label")[0].classList.remove("no-border"),document.getElementsByClassName("reports-label")[0].classList.remove("no-border"),document.getElementsByClassName("funds-label")[0].classList.remove("no-border")},hideLoansMenu:function(t){this.isLoansMenu=!1},togglePortfolioMenu:function(){this.isPortfolioMenu=!this.isPortfolioMenu,this.isLoansMenu=!1,this.isUserMenu=!1,this.isReportsMenu=!1,this.isFundsMenu=!1,document.getElementsByClassName("portfolio-label")[0].classList.remove("no-border"),document.getElementsByClassName("reports-label")[0].classList.remove("no-border"),document.getElementsByClassName("funds-label")[0].classList.remove("no-border"),"holdings"!==this.$route.name&&"positions"!==this.$route.name&&"discrepant"!==this.$route.name&&"corporateAction"!==this.$route.name&&"ipo"!==this.$route.name&&"tags"!==this.$route.name||document.getElementsByClassName("portfolio-label")[0].classList.add("no-border")},hidePortfolioMenu:function(t){this.isPortfolioMenu=!1},toggleReportsMenu:function(){this.isReportsMenu=!this.isReportsMenu,this.isLoansMenu=!1,this.isUserMenu=!1,this.isPortfolioMenu=!1,this.isFundsMenu=!1,document.getElementsByClassName("portfolio-label")[0].classList.remove("no-border"),document.getElementsByClassName("reports-label")[0].classList.remove("no-border"),document.getElementsByClassName("funds-label")[0].classList.remove("no-border"),"tradebook"!==this.$route.name&&"pnl"!==this.$route.name&&"taxpnl"!==this.$route.name&&"challenge"!==this.$route.name&&"downloads"!==this.$route.name&&"taxloss"!==this.$route.name||document.getElementsByClassName("reports-label")[0].classList.add("no-border")},hideReportsMenu:function(t){this.isReportsMenu=!1},toggleFundsMenu:function(){this.isFundsMenu=!this.isFundsMenu,this.isLoansMenu=!1,this.isUserMenu=!1,this.isPortfolioMenu=!1,this.isReportsMenu=!1,document.getElementsByClassName("portfolio-label")[0].classList.remove("no-border"),document.getElementsByClassName("reports-label")[0].classList.remove("no-border"),document.getElementsByClassName("funds-label")[0].classList.remove("no-border"),"funds"!==this.$route.name&&"ledger"!==this.$route.name&&"interest"!==this.$route.name&&"enach"!==this.$route.name||document.getElementsByClassName("funds-label")[0].classList.add("no-border")},hideFundsMenu:function(t){this.isFundsMenu=!1},toggleBurger:function(){document.getElementById("nav-icon4").classList.toggle("open"),this.showBurger=!this.showBurger,this.showBurger?document.getElementsByTagName("body")[0].style.overflowY="hidden":document.getElementsByTagName("body")[0].style.overflowY="scroll"},expandMobileMenu:function(t){"portfolio"===t?(document.getElementById("mobile_reports_label").classList.remove("active"),document.getElementById("mobile_funds_label").classList.remove("active"),document.getElementById("mobile_portfolio_label").classList.toggle("active")):"reports"===t?(document.getElementById("mobile_portfolio_label").classList.remove("active"),document.getElementById("mobile_funds_label").classList.remove("active"),document.getElementById("mobile_reports_label").classList.toggle("active")):"funds"===t&&(document.getElementById("mobile_portfolio_label").classList.remove("active"),document.getElementById("mobile_reports_label").classList.remove("active"),document.getElementById("mobile_funds_label").classList.toggle("active"))},setPageTitle:function(t){document.title=t+" / Console"},logout:function(){Wt.emit("channel","logout",!0)}})},Kt=Zt,Xt=(s("4960"),Object(I["a"])(Kt,n,a,!1,null,null,null));e["default"]=Xt.exports},"506b":function(t,e,s){"use strict";var n=s("d68e");function a(t){var e=this;this.__namespace__=t.namespace||"tabex_default_",this.__handlers__=[],this.__iframe_url__=t.iframe,this.__iframe_done__=!1,this.__pending__=[],this.__iframe__=document.createElement("iframe"),this.__iframe__.style.left="-1000px",this.__iframe__.style.position="absolute",this.__iframe__.onload=function(){e.__iframe__.contentWindow.postMessage(JSON.stringify({origin:window.location.origin||window.location.protocol+"//"+window.location.host,namespace:e.__namespace__}),e.__iframe_url__),e.__iframe_done__=!0,e.__pending__.forEach((function(t){e.__iframe__.contentWindow.postMessage(JSON.stringify(t),e.__iframe_url__)})),e.__pending__=null},n.addEvent(window,"message",(function(t){if(0===e.__iframe_url__.indexOf(t.origin)){var s;try{s=JSON.parse(t.data)}catch(n){return}s.namespace===e.__namespace__&&e.__handlers__.forEach((function(t){t(s.channel,s.message)}))}})),this.__iframe__.src=this.__iframe_url__;var s=function(){document.body.appendChild(e.__iframe__)};"loading"===document.readyState?n.addEvent(document,"DOMContentLoaded",s):s()}function i(t){var e,s=this;for(this.__namespace__=t.namespace||"tabex_default_",this.__origin_first_check__=t.origin||window.location.origin||window.location.protocol+"//"+window.location.host,Array.isArray(this.__origin_first_check__)||(this.__origin_first_check__=[this.__origin_first_check__]),e=0;e<this.__origin_first_check__.length;e++)this.__origin_first_check__[e]=this.__origin_first_check__[e].replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&"),this.__origin_first_check__[e]=this.__origin_first_check__[e].replace(/[*]/g,".+?"),this.__origin_first_check__[e]=new RegExp(this.__origin_first_check__[e]);this.__origin__=null,this.__router__=t.router,n.addEvent(window,"message",(function(t){var n,a=!1;if(!s.__origin__||s.__origin__!==t.origin){for(e=0;e<s.__origin_first_check__.length;e++)if(s.__origin_first_check__[e].test(t.origin)){a=!0;break}if(!a)return}try{n=JSON.parse(t.data)}catch(i){return}if(n.namespace===s.__namespace__)return!s.__origin__&&n.origin?(s.__origin__=n.origin,void s.__router__.onmessage((function(t,e){window.parent.postMessage(JSON.stringify({channel:t,message:e,namespace:s.__namespace__}),s.__origin__)}))):void s.__router__.broadcast(n.channel,n.message)}))}a.prototype.broadcast=function(t,e){this.__iframe_done__?this.__iframe__.contentWindow.postMessage(JSON.stringify({channel:t,message:e,namespace:this.__namespace__}),this.__iframe_url__):this.__pending__.push({channel:t,message:e,namespace:this.__namespace__})},a.prototype.onmessage=function(t){this.__handlers__.push(t)},e.TunnelClient=a,e.TunnelRouter=i},b23e:function(t,e,s){"use strict";t.exports=s("f3b7")},d68e:function(t,e,s){"use strict";e.asyncEach=function(t){t=t.slice(0);var e=arguments[arguments.length-1],s=Array.prototype.slice.call(arguments,1);function n(){if(0!==t.length){var s=t.shift();s.apply(this,Array.prototype.slice.call(arguments,0).concat(n))}else e.apply(this,arguments)}s.pop(),n.apply(this,s)},e.addEvent=function(t,e,s){document.addEventListener?t.addEventListener(e,s):t.attachEvent("on"+e,s)}},e9dd:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container holdings"},[s("div",{staticClass:"section"},[t.job?s("jobber",{attrs:{main:"Fetching holdings with discrepancies",sub:"",loader:!0}}):t._e(),t._v(" "),t.discrepant_items.length>0&&!t.job?s("div",{staticClass:"row",attrs:{id:"disc_basic"}},[s("div",{staticClass:"four columns"},[s("h1",[t._v("Holdings discrepancies")]),t._v(" "),s("p",{staticClass:"text-small text-light-grey"},[t._v("These are the holdings for which we have not received a buy price. These may have come from transfers, corporate actions, IPOs etc.\n\t\t\t\t\tFor us to compute the P&L properly for these entries, you need to manually add trades with the right values.")]),t._v(" "),s("hr",{staticClass:"no-bottom"}),t._v(" "),s("span",{staticClass:"open-side-nav show-inline-on-mobile",on:{click:function(e){return t.openSideNav()}}},[t._v("☰ View all scrips")]),t._v(" "),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSideNav,expression:"closeSideNav"}],staticClass:"disc-list-container",attrs:{id:"mobile-side-nav"}},[s("a",{staticClass:"close-side-nav show-on-mobile",attrs:{href:"javascript:void(0)"},on:{click:t.closeSideNav}},[t._v("×")]),t._v(" "),t._l(t.discrepant_items,(function(e,n){return s("div",{key:n,class:[e["instrument_id"]===t.initInstrument&&t.discSelected==={}||e["instrument_id"]===t.discSelected["instrument_id"]?"activeInstrument":"","disc-list"],on:{click:function(s){return t.getExternalTrades(e,s)}}},[s("span",{staticClass:"instrument-name"},[t._v(t._s(e["tradingsymbol"]))]),t._v(" "),e["quantity_discrepant"]>0?s("span",{staticClass:"status-flag"},[t._v(t._s(e["quantity_discrepant"])+" Qty.")]):t._e()])}))],2)]),t._v(" "),s("div",{staticClass:"eight columns disc-info"},[s("h1",[t._v(t._s(t.discSelected["tradingsymbol"]))]),t._v(" "),s("hr"),s("br"),s("br"),t._v(" "),s("div",{staticClass:"row"},[t.discSelected["isin"]?s("div",{staticClass:"six columns"},[s("label",[t._v("ISIN")]),t._v(" "),s("h2",[t._v(t._s(t.discSelected["isin"]))])]):t._e(),t._v(" "),s("div",{staticClass:"six columns"},[s("label",[t._v("Discrepancy (Qty.)")]),t._v(" "),s("h2",[t._v(t._s(t._f("round")(t.discSelected["quantity_discrepant"],4)))])])]),s("br"),t._v(" "),s("h2",{staticClass:"add-trade-container"},[t._v("\n\t\t\t\t\tTrades\n\t\t\t\t\t"),t.fetchingExternal?s("su-loader"):t._e(),t._v(" "),s("su-button",{staticClass:"add-external-trade btn btn-blue",nativeOn:{click:function(e){return e.preventDefault(),t.computeAdd()}}},[t._v("+ Add trade")])],1),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:" table-container"},[t.isPending?s("p",{staticClass:"text-small text-light-grey"},[t._v("The pending trades will be computed and added to your P&L within 48 hours.")]):t._e(),t._v(" "),t.externalTrades.length>0&&!t.fetchingExternal?s("table",{staticClass:"external-trades",attrs:{id:"external_trades"}},[t._m(0),t._v(" "),s("tbody",t._l(t.externalTrades,(function(e,n){return s("tr",{key:n,on:{mouseleave:function(e){t.showDrop=!1},mouseenter:function(e){t.showDrop=!0}}},[s("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e["trade_date"])+"\n\t\t\t\t\t\t\t\t\t"),e["pending_recalc"]?s("span",{staticClass:"pending-flag"},[t._v("Pending")]):t._e(),t._v(" "),t.showDrop?s("context-menu",{staticClass:"table"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[s("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),s("template",{slot:"menu"},[s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showEditDiscrepant(e)}}},[t._v("Edit trade")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.deleteDiscrepant(e)}}},[t._v("Delete trade")])])])],2):t._e()],1),t._v(" "),"ipo"==e["external_trade_type"]?s("td",{staticClass:"text-left"},[t._v(t._s(t._f("uppercase")(e["external_trade_type"])))]):s("td",{staticClass:"text-left"},[t._v(t._s(t._f("capitalize")(e["external_trade_type"])))]),t._v(" "),s("td",[t._v(t._s(t._f("inrFormat")(e["price"],4)))]),t._v(" "),s("td",[t._v(t._s(t._f("inrFormat")(e["quantity"],4)))])])})),0)]):t._e()]),t._v(" "),0!==t.externalTrades.length||t.fetchingExternal?t._e():s("p",[t._v("\n\t\t\t\t\tTo fix the discrepancy, you should add manual trades here with matching quantities. Trades added can not be edited/deleted once the price is updated. "),s("a",{attrs:{href:"https://support.zerodha.com/category/q-backoffice/portfolio/articles/why-is-the-buy-average-for-some-shares-shown-as-n-a",target:"_blank"}},[t._v("Read more")]),t._v(".\n\t\t\t\t")])])]):t._e(),t._v(" "),t.noResults&&!t.job?s("div",{staticClass:"text-center"},[s("empty",{attrs:{main:"Nothing to show here",sub:""}})],1):t._e()],1),t._v(" "),t.showAddModal?s("div",{staticClass:"section"},[s("div",{staticClass:"modal-mask add-disc-modal"},[s("div",{staticClass:"modal-wrapper",on:{click:function(e){return e.stopPropagation(),t.hideAdd.apply(null,arguments)}}},[s("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showAdd.apply(null,arguments)}}},[s("div",{staticClass:"modal-body"},[s("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideAdd.apply(null,arguments)}}},[s("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),s("h2",[t._v(t._s(t.discSelected["tradingsymbol"])+" — Add a trade")]),t._v(" "),s("su-form",[s("div",{staticClass:"row input-container"},[s("div",{staticClass:"three columns su-input-group su-static-label"},[s("label",{staticClass:"su-input-label"},[t._v("Purchase date")]),t._v(" "),s("datepicker",{attrs:{format:t.format,lang:"en","not-before":"1975-01-01","not-after":"2021-12-31",placeholder:"YYYY-MM-DD"},model:{value:t.addExternalDate,callback:function(e){t.addExternalDate=e},expression:"addExternalDate"}})],1),t._v(" "),s("div",{staticClass:"three columns"},[s("su-input",{attrs:{type:"number",maxlength:8,"static-label":"","no-error":"",label:"Avg. price"},model:{value:t.addExternalPrice,callback:function(e){t.addExternalPrice=e},expression:"addExternalPrice"}})],1),t._v(" "),s("div",{staticClass:"three columns"},[s("su-input",{attrs:{type:"number",maxlength:8,"static-label":"","no-error":"",label:"Qty."},model:{value:t.addExternalQty,callback:function(e){t.addExternalQty=e},expression:"addExternalQty"}})],1),t._v(" "),s("div",{staticClass:"three columns su-input-group su-static-label"},[s("label",{staticClass:"su-input-label"},[t._v("Type")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.addExternalType,expression:"addExternalType"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.addExternalType=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:""}},[t._v("Select type")]),t._v(" "),s("option",{attrs:{value:"ipo"}},[t._v("IPO")]),t._v(" "),s("option",{attrs:{value:"discrepant"}},[t._v("Others")])])])]),s("br"),t._v(" "),s("div",{staticClass:"text-right"},[s("su-button",{staticClass:"btn-blue",attrs:{type:"submit",processing:t.addingExternal,disabled:t.addingExternal},nativeOn:{click:function(e){return e.preventDefault(),t.addDiscrepant.apply(null,arguments)}}},[t._v("Add")])],1)])],1)])])])]):t._e(),t._v(" "),t.showEditModal?s("div",{staticClass:"section"},[s("div",{staticClass:"modal-mask add-disc-modal"},[s("div",{staticClass:"modal-wrapper",on:{click:function(e){return e.stopPropagation(),t.hideEdit.apply(null,arguments)}}},[s("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showEdit.apply(null,arguments)}}},[s("div",{staticClass:"modal-body"},[s("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideEdit.apply(null,arguments)}}},[s("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),s("h2",[t._v(t._s(t.discSelected["tradingsymbol"])+" — Edit trade")]),t._v(" "),s("su-form",[s("div",{staticClass:"row input-container"},[s("div",{staticClass:"three columns"},[s("su-input",{attrs:{"static-label":"","not-before":"1975-01-01","not-after":"2021-12-31","no-error":"",label:"Purchase date",disabled:!0},model:{value:t.editExternalDate,callback:function(e){t.editExternalDate=e},expression:"editExternalDate"}})],1),t._v(" "),s("div",{staticClass:"three columns"},[s("su-input",{attrs:{type:"number","static-label":"","no-error":"",label:"Avg. price"},model:{value:t.editExternalPrice,callback:function(e){t.editExternalPrice=e},expression:"editExternalPrice"}})],1),t._v(" "),s("div",{staticClass:"three columns"},[s("su-input",{attrs:{type:"number","static-label":"","no-error":"",label:"Qty",disabled:!0},model:{value:t.editExternalQty,callback:function(e){t.editExternalQty=e},expression:"editExternalQty"}})],1),t._v(" "),s("div",{staticClass:"three columns su-input-group su-static-label"},[s("label",{staticClass:"su-input-label"},[t._v("Type")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.editExternalType,expression:"editExternalType"}],attrs:{disabled:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.editExternalType=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"ipo"}},[t._v("IPO")]),t._v(" "),s("option",{attrs:{value:"discrepant"}},[t._v("Others")])])])]),s("br"),t._v(" "),s("div",{staticClass:"text-right"},[s("su-button",{staticClass:"btn-blue",attrs:{type:"submit",processing:t.editingExternal,disabled:t.editingExternal},nativeOn:{click:function(e){return e.preventDefault(),t.editDiscrepant.apply(null,arguments)}}},[t._v("Update")])],1)])],1)])])])]):t._e()])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("td",{staticClass:"text-left"},[t._v("Purchase date")]),t._v(" "),s("td",{staticClass:"text-left"},[t._v("Type")]),t._v(" "),s("td",[t._v("Avg. price")]),t._v(" "),s("td",[t._v("Qty.")])])])}],i=s("8508"),r=s.n(i),o=s("6825"),l=s("2e34"),c=s("02bc"),_=s("ba6a"),d=s("5665");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function h(t,e,s){return d["a"].getDiscrepants+"?date="+t+"&segment="+e}function p(t){return t?d["a"].getExternalTrades+"?instrument_id="+t:d["a"].getExternalTrades}function f(t){var e=new Date(t),s=""+(e.getMonth()+1),n=""+e.getDate(),a=e.getFullYear();return s.length<2&&(s="0"+s),n.length<2&&(n="0"+n),[a,s,n].join("-")}function m(t){var e=null,s=[];return location.search.substr(1).split("&").forEach((function(n){s=n.split("="),s[0]===t&&(e=decodeURIComponent(s[1]))})),e}var v={data:function(){return{instrument:null,showModal:!1,job:!1,params:{},holdings_items:[],discrepant_items:[],holdings_aggregation:{},tradingsymbol:"",date:null,segment:"EQ",format:"YYYY-MM-DD",sortKey:"tradingsymbol",sortBy:"asc",disabled:{to:new Date(2017,3,1)},timeout:"",lastClicked:null,noResults:!1,externalTrades:[],discSelected:{},tradesExist:!1,showAddModal:!1,addExternalDate:"",addExternalPrice:"",addExternalQty:"",addExternalType:"",addingExternal:!1,fetchingExternal:!1,showEditModal:!1,editExternalDate:"",editExternalPrice:"",editExternalQty:"",editExternalType:"",editExternalId:"",editingExternal:!1,oldExternalQty:"",initInstrument:"",showDrop:!0,isPending:!1,isinFetching:""}},mounted:function(){var t=this;if(window.addEventListener("keyup",(function(e){27===e.keyCode&&(t.hideAdd(),t.hideEdit())})),this.$route.params&&this.$route.params.segment)this.getHoldingsData(new Date,this.$route.params.segment);else{var e=m("ISIN");e&&(this.isinFetching=e),this.$router.push({name:"discrepancies",params:{segment:"EQ"}}),this.getHoldingsData(new Date,"EQ")}},computed:{filteredData:function(){var t=this.sortKey,e=this.sortOrders[t]||1,s=this.holdings;return t&&(s=s.slice().sort((function(s,n){return s=s[t],n=n[t],(s===n?0:s>n?1:-1)*e}))),s}},methods:{openSideNav:function(){document.getElementById("mobile-side-nav")&&(document.getElementById("mobile-side-nav").className.indexOf("hidden")>-1&&document.getElementById("mobile-side-nav").classList.remove("hidden"),document.getElementById("mobile-side-nav").classList.add("show"))},closeSideNav:function(t,e){if(t&&t.target.className&&(-1===t.target.className.indexOf("open-side-nav")||t.target.className.indexOf("disc-list")>-1)){if(document.getElementById("mobile-side-nav")&&window.innerWidth<=800){-1!==document.getElementById("mobile-side-nav").className.indexOf("show")&&document.getElementById("mobile-side-nav").classList.remove("show"),document.getElementById("mobile-side-nav").classList.add("hidden");var s=this.$el.querySelector("#disc_basic");s.scrollTop=s.scrollHeight}}else 1===e&&document.getElementById("mobile-side-nav")&&-1!==document.getElementById("mobile-side-nav").className.indexOf("show")&&document.getElementById("mobile-side-nav").classList.remove("show")},addDiscrepant:function(){var t=this;if(this.addExternalDate&&this.addExternalPrice&&this.addExternalQty&&this.addExternalType){for(var e=0,s=0;s<this.externalTrades.length;s++){if(f(this.addExternalDate)===this.externalTrades[s]["trade_date"]&&this.addExternalType===this.externalTrades[s]["external_trade_type"])return void this.$toast.warning({message:"Adding external trade of same type is not allowed",orientation:this.$toast.TOP_RIGHT,duration:6e3});this.externalTrades[s]["pending_recalc"]&&(e+=parseFloat(this.externalTrades[s]["quantity"]))}var n=new Date(this.addExternalDate),a=new Date;if(n>a)return void this.$toast.warning({message:"Adding external trade for future dates is not allowed",orientation:this.$toast.TOP_RIGHT,duration:6e3});if(null===this.discSelected["isin"]||0===this.discSelected["isin"].length||null===this.discSelected["instrument_id"]||0===this.discSelected["instrument_id"].length)return void this.$toast.warning({message:"Required information to perform this action is not available",orientation:this.$toast.TOP_RIGHT,duration:6e3});var i=parseFloat(parseFloat(parseFloat(this.discSelected["quantity_discrepant"])-parseFloat(e)).toFixed(4));if(this.addExternalQty<=i){this.addingExternal=!0;var r={instrument_id:this.discSelected["instrument_id"],trade_date:f(this.addExternalDate),segment:this.segment,price:parseFloat(this.addExternalPrice),quantity:parseFloat(this.addExternalQty),external_trade_type:this.addExternalType},o=[];o.push(r);var l=p();_["a"].request("POST",!1,l,o,(function(e,s){t.addingExternal=!1,t.hideAdd(),"SUCCESS"===e.toUpperCase()?(t.$toast.success({message:"Trade added",orientation:t.$toast.TOP_RIGHT,duration:6e3}),t.getExternalTrades(t.discSelected)):"FAILURE"===e.toUpperCase()?t.$toast.error({message:"Error adding trade: "+s.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}):t.$toast.error({message:"Error adding trade:"+_["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3})}))}else this.$toast.warning({message:"Quantity can not be greater than total discrepant quantity",orientation:this.$toast.TOP_RIGHT,duration:6e3})}else this.$toast.warning({message:"Date, price, qty and type are required fields",orientation:this.$toast.TOP_RIGHT,duration:6e3})},showEditDiscrepant:function(t){this.editExternalDate=t["trade_date"],this.editExternalPrice=parseFloat(t["price"]).toFixed(2),this.editExternalQty=parseFloat(t["quantity"]).toFixed(4),this.editExternalType=t["external_trade_type"],this.oldExternalQty=parseFloat(t["quantity"]).toFixed(4),this.editExternalId=t["id"],this.showEdit()},editDiscrepant:function(){var t=this;if(this.editExternalDate&&this.editExternalPrice&&this.editExternalQty&&this.editExternalType){for(var e=0,s=0;s<this.externalTrades.length;s++)this.externalTrades[s]["pending_recalc"]&&(e+=parseFloat(this.externalTrades[s]["quantity"]));e-=this.oldExternalQty;var n=this.discSelected["quantity_discrepant"]-e;if(this.editExternalQty<=n){this.editingExternal=!0;var a={id:this.editExternalId.toString(),trade_date:this.editExternalDate,price:parseFloat(this.editExternalPrice),quantity:parseFloat(this.editExternalQty),external_trade_type:this.editExternalType,instrument_id:this.discSelected["instrument_id"],tradingsymbol:this.discSelected["tradingsymbol"],isin:this.discSelected["isin"],segment:this.segment},i=[];i.push(a);var r=p();_["a"].request("PUT",!1,r,i,(function(e,s){t.editingExternal=!1,t.hideEdit(),"SUCCESS"===e.toUpperCase()?(t.getExternalTrades(t.discSelected),t.$toast.success({message:"Edit successful",orientation:t.$toast.TOP_RIGHT,duration:6e3})):"FAILURE"===e.toUpperCase()?t.$toast.error({message:"Error editing trade: "+s.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3}):t.$toast.error({message:"Error editing trade:"+_["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3})}))}else this.$toast.warning({message:"Quantity can not be grater than discrepant quantity",orientation:this.$toast.TOP_RIGHT,duration:6e3})}else this.$toast.warning({message:"Date, price, qty and type are required fields",orientation:this.$toast.TOP_RIGHT,duration:6e3})},deleteDiscrepant:function(t){var e=this;this.fetchingExternal=!0;var s={id:t["id"].toString(),instrument_id:this.discSelected["instrument_id"],trade_date:t["trade_date"],segment:this.segment},n=[];n.push(s);var a=p();_["a"].request("DELETE",!1,a,n,(function(t,s){"SUCCESS"===t.toUpperCase()?(e.getExternalTrades(e.discSelected),e.$toast.success({message:"Deleted successfully",orientation:e.$toast.TOP_RIGHT,duration:6e3})):"FAILURE"===t.toUpperCase()?(e.fetchingExternal=!1,e.$toast.error({message:"Error deleting trade: "+s.data.message,orientation:e.$toast.TOP_RIGHT,duration:6e3})):(e.fetchingExternal=!1,e.$toast.error({message:"Error deleting trade:"+_["a"].errorMessage(),orientation:e.$toast.TOP_RIGHT,duration:6e3}))}))},getExternalTrades:function(t,e){var s=this;this.addExternalDate="",this.addExternalPrice="",this.addExternalQty="",this.addExternalType="",this.closeSideNav(null,1),this.fetchingExternal=!0,this.isPending=!1;var n="";"object"===u(t)?(n=t["instrument_id"],this.discSelected=t):(n=t,this.discSelected=this.discrepant_items.find((function(e){return e.instrument_id===t})));var a=p(n);a+="&segment="+this.segment,this.$router.push({name:"discrepancies",params:{tradingsymbol:this.discSelected["tradingsymbol"],instrument_id:this.discSelected["instrument_id"]}}),_["a"].request("GET",!1,a,null,(function(t,e){if(s.externalTrades=[],"SUCCESS"===t.toUpperCase()){s.fetchingExternal=!1;var n=e.data.data.result;if(n.hasOwnProperty("length")){for(var a=0;a<n.length;a++)!0===n[a]["pending_recalc"]&&(s.isPending=!0);s.externalTrades=n}else s.externalTrades.push(n);s.externalTrades.length>0?s.tradesExist=!0:s.tradesExist=!1}else"FAILURE"===t.toUpperCase()?(s.fetchingExternal=!1,s.$toast.error({message:"Error fetching trades: "+e.data.message,orientation:s.$toast.TOP_RIGHT,duration:6e3})):(s.fetchingExternal=!1,s.$toast.error({message:"Error fetching trades:"+_["a"].errorMessage(),orientation:s.$toast.TOP_RIGHT,duration:6e3}))}))},showMenu:function(t){t.target.children.length>0?(t.target.children[3].classList.toggle("show"),null!==this.lastClicked&&this.lastClicked!==t.target.children[3]&&this.lastClicked.classList.toggle("show"),this.lastClicked=t.target.children[3]):(t.target.parentNode.children[3].classList.toggle("show"),null!==this.lastClicked&&this.lastClicked!==t.target.parentNode.children[3]&&this.lastClicked.classList.toggle("show"),this.lastClicked=t.target.parentNode.children[3])},pollData:function(){var t=this;setTimeout((function(){return t.getHoldingsData(t.date,t.segment)}),2e3)},getHoldingsData:function(t,e){var s=this;this.job=!0,this.noResults=!1,this.date=f(t||new Date),this.segment=e?e.toUpperCase():"EQ";var n=h(this.date,this.segment);_["a"].request("GET",!0,n,null,(function(t,n){if(s.holdings_items=[],"PENDING"===t.toUpperCase())s.job=!0,s.pollData();else if("SUCCESS"===t.toUpperCase()){s.params={date:s.date,segment:e},s.job=!1,s.holdings_items=n.data.data.result;for(var a=0;a<s.holdings_items.length;a++)s.totalPresentValue+=parseFloat(s.holdings_items[a]["closing_value"])||0,s.holdings_items[a]["quantity_discrepant"]>0&&s.discrepant_items.push(s.holdings_items[a]);if(s.$route.params&&s.$route.params.instrument_id)s.initInstrument=s.$route.params.instrument_id,s.getExternalTrades(s.initInstrument);else if(s.discrepant_items.length>0){var i={};s.isinFetching&&s.isinFetching.length>0&&(i=s.discrepant_items.find((function(t){return t.isin===s.isinFetching}))),(void 0===i||"object"===u(i)&&0===Object.keys(i).length)&&(i=s.discrepant_items[0]),s.initInstrument=i["instrument_id"],s.getExternalTrades(i)}else s.noResults=!0}else"FAILURE"===t.toUpperCase()?(s.job=!1,s.$toast.error({message:"Error fetching holdings: "+n.data.message,orientation:s.$toast.TOP_RIGHT,duration:6e3})):(s.job=!1,s.$toast.error({message:"Error fetching holdings:"+_["a"].errorMessage(),orientation:s.$toast.TOP_RIGHT,duration:6e3}))}))},computeAdd:function(){this.showAdd()},showAdd:function(){this.showAddModal=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"},hideAdd:function(){this.showAddModal=!1,document.getElementsByTagName("body")[0].style.overflowY="scroll"},showEdit:function(){this.showEditModal=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"},hideEdit:function(){this.showEditModal=!1,document.getElementsByTagName("body")[0].style.overflowY="scroll"}},components:{datepicker:r.a,"context-menu":o["a"],jobber:l["a"],empty:c["a"]}},g=v,y=s("2877"),b=Object(y["a"])(g,n,a,!1,null,null,null);e["default"]=b.exports},f3b7:function(t,e,s){"use strict";var n=s("29db"),a=s("1a5a"),i=s("506b"),r={},o={_:{}};o._.Router=n,o._.Client=a,o._.Tunnel=i,o.client=function(t){t=t||{};var e,s=t.namespace||"tabex_default_";return t.iframe?e=new i.TunnelClient(t):(r[s]||(r[s]=new n({namespace:s})),e=r[s]),new a({router:e})},o.router=function(t){t=t||{};var e=t.namespace||"tabex_default_";return r[e]||(r[e]=new n({namespace:e})),new i.TunnelRouter({router:r[e],namespace:e,origin:t.origin}),r[e]},t.exports=o}}]);